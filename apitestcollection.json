{"info":{"_postman_id":"5ecc5b03-33f8-4727-b798-abc511fec1f1","name":"Barcode server","schema":"https://schema.getpostman.com/json/collection/v2.0.0/collection.json"},"item":[{"name":"auth","item":[{"name":"/user/register","event":[{"listen":"test","script":{"type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Check body\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.message).to.eql(\"Successfully registered user!\");\r","    pm.expect(jsonData.message).to.not.eql(undefined);\r","});"]}}],"id":"df512de2-5c22-4dfa-bccc-4e91600ded9f","request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"name\": \"Test Testerson\",\r\n    \"email\": \"test@testmail.com\",\r\n    \"password\": \"STARIsMyFavouriteSubject!\"\r\n}","options":{"raw":{"language":"json"}}},"url":"localhost:8000/user/register"},"response":[]},{"name":"/user/login","event":[{"listen":"test","script":{"type":"text/javascript","exec":["var jsonData = pm.response.json();\r","pm.collectionVariables.set(\"jwt\", jsonData.user.token);\r","\r","pm.test(\"Successful Login\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Check body\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.success).to.eql(true)\r","    pm.expect(jsonData.user).to.not.eql(undefined);\r","});\r","\r",""]}}],"id":"2a6db707-71e3-478e-b1b8-94eed6482ced","request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"email\": \"test@testmail.com\",\r\n    \"password\": \"STARIsMyFavouriteSubject!\"\r\n}","options":{"raw":{"language":"json"}}},"url":"localhost:8000/user/login"},"response":[]},{"name":"/ - valid token","event":[{"listen":"test","script":{"type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","pm.test(\"Check body\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.message).to.eql(\"jwt token valid!\");\r","});"]}},{"listen":"prerequest","script":{"type":"text/javascript","exec":["pm.request.headers.add({key: 'Authorization', value: \"Bearer \" + pm.collectionVariables.get(\"jwt\")})\r",""]}}],"id":"570cf981-8fa0-4ef0-bd66-19716e0987db","request":{"auth":{"type":"bearer","bearer":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAdGVzdG1haWwuY29tIiwidXNlcklEIjoyLCJpYXQiOjE2NDk3OTQzMzIsImV4cCI6MTY0OTg4MDczMn0.A2sk_PPpFo2kHwd3XIQkV-MNZIByASBIfgwFJhjaJg4"}},"method":"GET","header":[],"url":"localhost:8000/"},"response":[]},{"name":"/ - invalid token","event":[{"listen":"test","script":{"type":"text/javascript","exec":["pm.test(\"Status code is 401\", function () {\r","    pm.response.to.have.status(401);\r","});\r","\r","\r","pm.test(\"Check body\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.success).to.eql(false);\r","    pm.expect(jsonData.message).to.eql(\"Token is invalid!\");\r","    pm.expect(jsonData.errorCode).to.eql(3735928559) // 0xdeadbeef in decimal\r","});"]}},{"listen":"prerequest","script":{"type":"text/javascript","exec":["pm.request.headers.add({key: 'Authorization', value: \"Bearer e\" + pm.collectionVariables.get(\"jwt\")})"]}}],"id":"80d6cb0c-a96b-4edb-9265-9903694289af","request":{"auth":{"type":"bearer","bearer":{"token":"invalidtoken"}},"method":"GET","header":[],"url":"localhost:8000/"},"response":[]},{"name":"/ - no token","event":[{"listen":"test","script":{"type":"text/javascript","exec":["pm.test(\"Status code is 401\", function () {\r","    pm.response.to.have.status(401);\r","});\r","\r","pm.test(\"Check body\", function () {\r","    var jsonData = pm.response.json();\r","    pm.expect(jsonData.success).to.eql(false);\r","    pm.expect(jsonData.message).to.eql(\"Authorization token is not supplied\");\r","});"]}}],"id":"4dfdb3f4-2c29-4918-a770-10e6a1b7f6f4","request":{"method":"GET","header":[],"url":"localhost:8000/"},"response":[]}],"id":"98e98be3-9fab-415b-8edf-c424316f10d0"}],"event":[{"listen":"prerequest","script":{"id":"27df54ff-4c44-4e27-84e7-92393e827070","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"b57928b3-6942-4c87-919c-6b730559abdc","type":"text/javascript","exec":[""]}}],"variable":[{"id":"0eaf2994-3c76-4d11-bdc8-88fbaafb3a72","key":"jwt","value":""}]}