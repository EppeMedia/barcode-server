<!DOCTYPE html>
<!-- saved from url=(0130)https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4 -->
<html lang="en" data-rh="lang"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/branch-latest.min.js.download"></script><script async="" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/analytics.js.download"></script><script>!function(c,f){var t,o,i,e=[],r={passive:!0,capture:!0},n=new Date,a="pointerup",u="pointercancel";function p(n,e){t||(t=e,o=n,i=new Date,w(f),s())}function s(){0<=o&&o<i-n&&(e.forEach(function(n){n(o,t)}),e=[])}function l(n){if(n.cancelable){var e=(1e12<n.timeStamp?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,e){function t(){p(n,e),i()}function o(){i()}function i(){f(a,t,r),f(u,o,r)}c(a,t,r),c(u,o,r)}(e,n):p(e,n)}}function w(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(n){e(n,l,r)})}w(c),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){e.push(n),s()}}(addEventListener,removeEventListener)</script><title>A guide for adding JWT token-based authentication to your single page Node.js applications</title><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta data-rh="true" name="theme-color" content="#000000"><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"><meta data-rh="true" property="al:ios:app_name" content="Medium"><meta data-rh="true" property="al:ios:app_store_id" content="828256236"><meta data-rh="true" property="al:android:package" content="com.medium.reader"><meta data-rh="true" property="fb:app_id" content="542599432471018"><meta data-rh="true" property="og:site_name" content="Medium"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2019-03-22T08:16:04.938Z"><meta data-rh="true" name="title" content="A guide for adding JWT token-based authentication to your single page Node.js applications"><meta data-rh="true" property="og:title" content="A guide for adding JWT token-based authentication to your single page Node.js applications"><meta data-rh="true" property="twitter:title" content="A guide for adding JWT token-based authentication to your single page Node.js applications"><meta data-rh="true" name="twitter:site" content="@Narenarya3"><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/c403f7cf04f4"><meta data-rh="true" property="al:android:url" content="medium://p/c403f7cf04f4"><meta data-rh="true" property="al:ios:url" content="medium://p/c403f7cf04f4"><meta data-rh="true" property="al:android:app_name" content="Medium"><meta data-rh="true" name="description" content="JWT authentication is becoming very popular these days. The traditional authentication uses cookies and sessions. With the advent of Single Page Applications(SPA) and microservices, there is a need…"><meta data-rh="true" property="og:description" content="JWT authentication is becoming very popular these days. The traditional authentication uses cookies and sessions. With the advent of Single…"><meta data-rh="true" property="twitter:description" content="JWT authentication is becoming very popular these days. The traditional authentication uses cookies and sessions. With the advent of Single…"><meta data-rh="true" property="og:url" content="https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4"><meta data-rh="true" property="al:web:url" content="https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4"><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/1200/1*KbsajBDDPKdSbOGWFXK32A.jpeg"><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/1200/1*KbsajBDDPKdSbOGWFXK32A.jpeg"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="article:author" content="https://medium.com/@narenarya"><meta data-rh="true" name="twitter:creator" content="@Narenarya3"><meta data-rh="true" name="author" content="Naren Yellavula"><meta data-rh="true" name="robots" content="index,follow"><meta data-rh="true" name="referrer" content="unsafe-url"><meta data-rh="true" name="twitter:label1" value="Reading time"><meta data-rh="true" name="twitter:data1" value="6 min read"><meta data-rh="true" name="parsely-post-id" content="c403f7cf04f4"><link data-rh="true" rel="publisher" href="https://plus.google.com/103654360130207659246"><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"><link data-rh="true" rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/m2.css"><link data-rh="true" rel="author" href="https://medium.com/@narenarya"><link data-rh="true" rel="canonical" href="https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4"><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/c403f7cf04f4"><script data-rh="true">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-24232453-2', 'auto');
ga('send', 'pageview');</script><link rel="preload" href="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/16180790160.js.download" as="script"><style type="text/css" data-fela-rehydration="432" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-moz-keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@keyframes k1{0%{transform:scale(1);opacity:1}70%{transform:scale(1.4);opacity:0}100%{opacity:0}}@-webkit-keyframes k2{0%{transform:matrix(0.97, 0, 0, 1, 0, 12);opacity:0}20%{transform:matrix(0.99, 0, 0, 1, 0, 2);opacity:0.7}40%{transform:matrix(1, 0, 0, 1, 0, -1);opacity:1}70%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}100%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}}@-moz-keyframes k2{0%{transform:matrix(0.97, 0, 0, 1, 0, 12);opacity:0}20%{transform:matrix(0.99, 0, 0, 1, 0, 2);opacity:0.7}40%{transform:matrix(1, 0, 0, 1, 0, -1);opacity:1}70%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}100%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}}@keyframes k2{0%{transform:matrix(0.97, 0, 0, 1, 0, 12);opacity:0}20%{transform:matrix(0.99, 0, 0, 1, 0, 2);opacity:0.7}40%{transform:matrix(1, 0, 0, 1, 0, -1);opacity:1}70%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}100%{transform:matrix(1, 0, 0, 1, 0, 0);opacity:1}}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:fixed}.n{top:0}.o{left:0}.p{right:0}.q{z-index:500}.r{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.v{display:flex}.w{justify-content:center}.ae{max-width:1032px}.af{min-width:0}.ag{width:100%}.ah{height:65px}.ai{align-items:center}.al{flex:1 0 auto}.am{margin-left:-6px}.an{fill:rgba(0, 0, 0, 0.84)}.ao{flex:0 0 auto}.ap{margin-left:16px}.aq{font-family:medium-content-sans-serif-font, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Arial, sans-serif}.ar{font-style:normal}.as{line-height:20px}.at{font-size:15.8px}.au{letter-spacing:0px}.av{color:rgba(0, 0, 0, 0.54)}.aw{fill:rgba(0, 0, 0, 0.54)}.ax{color:rgba(45, 130, 118, 1)}.ay{fill:rgba(37, 152, 138, 1)}.az{font-size:inherit}.ba{border:inherit}.bb{font-family:inherit}.bc{letter-spacing:inherit}.bd{font-weight:inherit}.be{padding:0}.bf{margin:0}.bg:hover{cursor:pointer}.bh:hover{color:rgba(46, 118, 108, 1)}.bi:hover{fill:rgba(45, 130, 118, 1)}.bj:focus{outline:none}.bk:disabled{cursor:default}.bl:disabled{color:rgba(3, 168, 124, 0.5)}.bm:disabled{fill:rgba(3, 168, 124, 0.5)}.bn{padding:8px 16px}.bo{background:0}.bp{border-color:rgba(37, 152, 138, 1)}.bq:hover{border-color:rgba(45, 130, 118, 1)}.br{border-radius:4px}.bs{border-width:1px}.bt{border-style:solid}.bu{box-sizing:border-box}.bv{display:inline-block}.bw{text-decoration:none}.bx{border-top:none}.by{background-color:rgba(0, 137, 123, 1)}.ca{height:54px}.cb{overflow:hidden}.cc{margin-right:40px}.cd{height:36px}.ce{width:284px}.cf{overflow:auto}.cg{flex:0 1 auto}.ch{list-style-type:none}.ci{line-height:40px}.cj{white-space:nowrap}.ck{overflow-x:auto}.cl{align-items:flex-start}.cm{margin-top:20px}.cn{padding-top:20px}.co{height:80px}.cp{height:20px}.cq{margin-right:15px}.cr{margin-left:15px}.cs:first-child{margin-left:0}.ct{min-width:1px}.cu{background-color:rgba(188, 226, 218, 1)}.cv{font-weight:300}.cw{font-size:15px}.cx{color:rgba(188, 226, 218, 1)}.cy{text-transform:uppercase}.cz{letter-spacing:1px}.da{color:inherit}.db{fill:inherit}.dc:hover{color:rgba(243, 255, 255, 1)}.dd:hover{fill:rgba(225, 249, 243, 1)}.de:disabled{color:rgba(140, 197, 186, 1)}.df:disabled{fill:rgba(140, 197, 186, 1)}.dg{margin-bottom:0px}.dh{height:119px}.dk{padding-left:24px}.dl{padding-right:24px}.dm{margin-left:auto}.dn{margin-right:auto}.do{max-width:728px}.dp{flex-direction:column}.dq{opacity:0}.dr{pointer-events:none}.ds{will-change:opacity}.dt{width:131px}.du{left:50%}.dv{transform:translateX(-516px)}.dw{top:calc(65px + 54px + 40px)}.dy{padding-bottom:28px}.dz{border-bottom:1px solid rgba(0, 0, 0, 0.1)}.ea:hover{color:rgba(0, 0, 0, 0.9)}.eb:hover{fill:rgba(0, 0, 0, 0.9)}.ec:disabled{color:rgba(0, 0, 0, 0.54)}.ed:disabled{fill:rgba(0, 0, 0, 0.54)}.ee{font-weight:600}.ef{font-size:18px}.eg{color:rgba(0, 0, 0, 0.84)}.eh{padding-bottom:20px}.ei{padding-top:2px}.ej{font-size:16px}.ek{max-height:120px}.el{text-overflow:ellipsis}.em{display:-webkit-box}.en{-webkit-line-clamp:6}.eo{-webkit-box-orient:vertical}.ep{padding:4px 12px}.eq{padding-top:28px}.er{margin-bottom:19px}.es{margin-left:-5px}.et{margin-right:5px}.eu{position:relative}.ev{outline:0}.ew{border:0}.ex{user-select:none}.ey{cursor:pointer}.ez> svg{pointer-events:none}.fa:active{border-style:none}.fb{-webkit-user-select:none}.fc:focus{fill:rgba(45, 130, 118, 1)}.fd{margin-top:5px}.fe button{text-align:left}.ff{width:188px}.fg{transform:translateX(406px)}.fh{top:calc(65px + 54px + 14px)}.fj{margin-top:40px}.fk{clear:both}.fl{max-width:680px}.fm{flex-wrap:wrap}.fn{margin-top:25px}.fo{margin-right:8px}.fp{margin-bottom:8px}.fq{border-radius:3px}.fr{padding:5px 10px}.fs{background:rgba(0, 0, 0, 0.05)}.ft{line-height:22px}.fu{margin-top:15px}.fv{justify-content:space-between}.fw{margin-right:16px}.fx{border:1px solid rgba(0, 0, 0, 0.1)}.fy{border-radius:50%}.fz{height:60px}.ga{width:60px}.gn:active{border-style:solid}.go{background:rgba(255, 255, 255, 1)}.gp{z-index:2}.gq{height:100%}.gr{position:absolute}.gt{padding-right:8px}.gu{display:none}.gv{padding-top:32px}.gw{border-top:1px solid rgba(0, 0, 0, 0.1)}.gx{margin-bottom:25px}.gy{margin-bottom:32px}.gz{min-height:80px}.he{width:80px}.hf{padding-left:102px}.hh{letter-spacing:0.05em}.hi{margin-bottom:6px}.hj{font-size:28px}.hk{line-height:36px}.hl{max-width:555px}.hm{max-width:450px}.hn{line-height:24px}.hp{max-width:550px}.hq{padding-top:25px}.hr{color:rgba(0, 0, 0, 0.76)}.hs{opacity:1}.ht{padding:20px}.hu{border:1px solid rgba(37, 152, 138, 1)}.hv{text-align:center}.hw{margin-top:64px}.hx{background-color:rgba(0, 0, 0, 0.02)}.hy{padding:60px 0}.hz{background-color:rgba(0, 0, 0, 0.9)}.iq{padding-bottom:48px}.ir{border-bottom:1px solid rgba(255, 255, 255, 0.54)}.is{margin:0 -12px}.it{margin:0 12px}.iu{flex:1 1 0}.iv{padding-bottom:12px}.iw:hover{color:rgba(255, 255, 255, 0.99)}.ix:hover{fill:rgba(255, 255, 255, 0.99)}.iy:disabled{color:rgba(255, 255, 255, 0.7)}.iz:disabled{fill:rgba(255, 255, 255, 0.7)}.ja{color:rgba(255, 255, 255, 0.98)}.jb{fill:rgba(255, 255, 255, 0.98)}.jc{text-align:inherit}.jd{font-size:21.6px}.je{letter-spacing:-0.32px}.jf{color:rgba(255, 255, 255, 0.7)}.jg{fill:rgba(255, 255, 255, 0.7)}.jh{text-decoration:underline}.ji{padding-bottom:8px}.jj{padding-top:8px}.jk{width:200px}.jm:hover{text-decoration:underline}.jn{top:calc(100vh + 100px)}.jo{bottom:calc(100vh + 100px)}.jp{width:10px}.jq{word-break:break-word}.jr{word-wrap:break-word}.js:after{display:block}.jt:after{content:""}.ju:after{clear:both}.jv{line-height:1.23}.jw{letter-spacing:0}.jx{font-family:medium-content-title-font, Georgia, Cambria, "Times New Roman", Times, serif}.jy{font-size:40px}.ke{margin-bottom:-0.27em}.kf{line-height:48px}.kg{margin-top:32px}.kh{height:48px}.ki{width:48px}.kj{margin-left:12px}.kk{margin-bottom:2px}.km{max-height:20px}.kn{-webkit-line-clamp:1}.ko{margin-left:8px}.kp{padding:0px 8px}.kq{border-color:rgba(0, 0, 0, 0.54)}.kr:hover{color:rgba(0, 0, 0, 0.97)}.ks:hover{fill:rgba(0, 0, 0, 0.97)}.kt:hover{border-color:rgba(0, 0, 0, 0.84)}.ku:disabled{fill:rgba(0, 0, 0, 0.76)}.kv:disabled{border-color:rgba(0, 0, 0, 0.2)}.kw:disabled{cursor:inherit}.kx:disabled:hover{color:rgba(0, 0, 0, 0.54)}.ky:disabled:hover{fill:rgba(0, 0, 0, 0.76)}.kz:disabled:hover{border-color:rgba(0, 0, 0, 0.2)}.la{line-height:18px}.lj{max-width:3353px}.lp{padding-bottom:5px}.lq{padding-top:5px}.lr{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.ls{cursor:zoom-in}.lt{z-index:auto}.lu{transition:opacity 100ms 400ms}.lv{will-change:transform}.lw{transform:translateZ(0)}.lx{margin:auto}.ly{background-color:rgba(0, 0, 0, 0.05)}.lz{padding-bottom:74.97763197136892%}.ma{filter:blur(20px)}.mb{transform:scale(1.1)}.mc{visibility:visible}.md{line-height:1.4}.me{margin-top:10px}.mh{line-height:1.58}.mi{letter-spacing:-0.004em}.mj{font-family:medium-content-serif-font, Georgia, Cambria, "Times New Roman", Times, serif}.mu{margin-bottom:-0.46em}.na{box-shadow:0 1px 4px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.nb{max-height:40px}.nc{-webkit-line-clamp:2}.nd{padding:0px}.ne{padding:16px 20px}.nf{flex:1 1 auto}.nh{margin-top:8px}.ni{margin-top:12px}.nj{width:160px}.nk{background-image:url(https://miro.medium.com/max/320/1*374bV9u2IgZCVwb0Xh9U1w.jpeg)}.nl{background-origin:border-box}.nm{background-size:cover}.nn{height:167px}.no{background-position:50% 50%}.np{max-width:100%}.nq{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1)}.nr{box-shadow:inset 3px 0 0 0 rgba(0, 0, 0, 0.84)}.ns{padding-left:23px}.nt{margin-left:-20px}.nu{font-style:italic}.nv{background-repeat:repeat-x}.nw{background-image:linear-gradient(to right,rgba(0, 0, 0, 0.84) 100%,rgba(0, 0, 0, 0.84) 0);background-image:url('data:image/svg+xml;utf8,<svg preserveAspectRatio="none" viewBox="0 0 1 1" xmlns="http://www.w3.org/2000/svg"><line x1="0" y1="0" x2="1" y2="1" stroke="rgba(0, 0, 0, 0.84)" /></svg>')}.nx{background-size:1px 1px}.ny{background-position:0 1.05em;background-position:0 calc(1em + 1px)}.nz{font-weight:700}.oa{line-height:1.12}.ob{letter-spacing:-0.022em}.om{margin-bottom:-0.28em}.os{max-width:2736px}.ot{padding-bottom:47.25877192982456%}.ou{list-style-type:disc}.ov{margin-left:30px}.ow{padding-left:0px}.pc{padding:2px 4px}.pd{font-size:75%}.pe> strong{font-family:inherit}.pf{font-family:Menlo, Monaco, "Courier New", Courier, monospace}.pg{padding-bottom:NaN%}.ph{line-height:1.18}.pi{margin-top:-0.09em}.pj{margin-bottom:-0.09em}.pk{white-space:pre-wrap}.pl{list-style-type:decimal}.pr{background-image:url(https://miro.medium.com/max/160/1*374bV9u2IgZCVwb0Xh9U1w.jpeg)}.ps{-webkit-user-select:none}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ac{margin:0 24px}.in{padding-left:24px}.io{padding-right:24px}.ip{max-width:1080px}.kd{margin-top:0.78em}.li{max-width:1032px}.lo{margin-top:56px}.ms{font-size:21px}.mt{margin-top:2em}.mz{margin-top:32px}.ok{font-size:34px}.ol{margin-top:1.95em}.or{margin-top:0.86em}.pb{margin-top:1.05em}.pq{margin-top:1.91em}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.ik{padding-left:24px}.il{padding-right:24px}.im{max-width:1080px}.mf{margin-left:auto}.mg{text-align:center}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.ih{padding-left:24px}.ii{padding-right:24px}.ij{max-width:904px}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.aj{height:56px}.ak{display:flex}.bz{display:block}.di{margin-bottom:0px}.dj{height:110px}.ha{margin-bottom:24px}.hb{align-items:center}.hc{width:102px}.hd{position:relative}.hg{padding-left:0}.ho{margin-top:24px}.ia{padding:32px 0}.ie{padding-left:24px}.if{padding-right:24px}.ig{max-width:728px}.jl{width:140px}.ng{padding:10px 12px 10px}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.x{margin:0 24px}.ib{padding-left:24px}.ic{padding-right:24px}.id{max-width:552px}.jz{margin-top:0.39em}.kl{margin-bottom:0px}.lb{margin:0}.lc{max-width:100%}.lk{margin-top:40px}.mk{font-size:18px}.ml{margin-top:1.56em}.mv{margin-top:24px}.oc{font-size:30px}.od{margin-top:1.2em}.on{margin-top:0.67em}.ox{margin-top:1.34em}.pm{margin-top:1.41em}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ab{margin:0 24px}.kc{margin-top:0.78em}.lh{max-width:1032px}.ln{margin-top:56px}.mq{font-size:21px}.mr{margin-top:2em}.my{margin-top:32px}.oi{font-size:34px}.oj{margin-top:1.95em}.oq{margin-top:0.86em}.pa{margin-top:1.05em}.pp{margin-top:1.91em}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.z{margin:0 24px}.kb{margin-top:0.78em}.lf{margin:0}.lg{max-width:100%}.lm{margin-top:56px}.mo{font-size:21px}.mp{margin-top:2em}.mx{margin-top:32px}.og{font-size:34px}.oh{margin-top:1.95em}.op{margin-top:0.86em}.oz{margin-top:1.05em}.po{margin-top:1.91em}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.y{margin:0 24px}.ka{margin-top:0.39em}.ld{margin:0}.le{max-width:100%}.ll{margin-top:40px}.mm{font-size:18px}.mn{margin-top:1.56em}.mw{margin-top:24px}.oe{font-size:30px}.of{margin-top:1.2em}.oo{margin-top:0.67em}.oy{margin-top:1.34em}.pn{margin-top:1.41em}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="print">.u{display:none}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.s{transition:transform 300ms ease}.t{will-change:transform}.dx{transition:opacity 200ms}.gb{transition:border-color 150ms ease}.gc::before{background:
      radial-gradient(circle, rgba(45, 130, 118, 1) 60%, transparent 70%)
    }.gd::before{border-radius:50%}.ge::before{content:""}.gf::before{display:block}.gg::before{z-index:0}.gh::before{left:0}.gi::before{height:100%}.gj::before{position:absolute}.gk::before{top:0}.gl::before{width:100%}.gm:hover::before{animation:k1 2000ms infinite cubic-bezier(.1,.12,.25,1)}.gs{transition:fill 200ms ease}</style><style type="text/css" data-fela-rehydration="432" data-fela-type="RULE" media="all and (max-width: 1230px)">.fi{display:none}</style><script charset="utf-8" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/vendors_tracing.94fe99ca.chunk.js.download"></script><script charset="utf-8" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/tracing.78dd8a0d.chunk.js.download"></script><script type="application/ld+json" data-rh="true">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F1*KbsajBDDPKdSbOGWFXK32A.jpeg"],"url":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4","dateCreated":"2018-08-22T11:52:38.833Z","datePublished":"2018-08-22T11:52:38.833Z","dateModified":"2019-03-22T08:16:04.938Z","headline":"A guide for adding JWT token-based authentication to your single page Node.js applications","name":"A guide for adding JWT token-based authentication to your single page Node.js applications","description":"JWT authentication is becoming very popular these days. The traditional authentication uses cookies and sessions. With the advent of Single Page Applications(SPA) and microservices, there is a need…","identifier":"c403f7cf04f4","keywords":["Lite:true","Tag:Nodejs","Tag:JavaScript","Tag:Authentication","Tag:Jwt","Tag:Software Development","Publication:dev-bits","Elevated:false","LockedPostSource:LOCKED_POST_SOURCE_NONE","LayerCake:4"],"author":{"@type":"Person","name":"Naren Yellavula","url":"https:\u002F\u002Fmedium.com\u002F@narenarya"},"creator":["Naren Yellavula"],"publisher":{"@type":"Organization","name":"Dev bits","url":"https:\u002F\u002Fmedium.com\u002Fdev-bits","logo":{"@type":"ImageObject","width":468,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F468\u002F1*qyYE9k-vBTjJJjhJm4yXtQ.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4"}</script><script type="text/javascript" data-rh="true">(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0);
branch.init('key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm', {metadata: {}, 'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': null}, function(err, data) {});</script></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><script>window.PARSELY = window.PARSELY || {autotrack: false}</script><nav class="l m n o p c q r s t u"><div class="branch-journeys-top"><div class="l c"><div class="v w"><div class="x y z ab ac ae af ag"><div class="ah v ai aj ak"><div class="v ai al q"><div class="am l"><a href="https://medium.com/?source=post_page-----c403f7cf04f4----------------------" aria-label="Homepage" rel="noopener"><svg width="45" height="45" viewBox="0 0 45 45" class="an"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"></path></svg></a></div></div><div class="l ao q"><div class="v ai"><div class="v g"><div class="ap l"><span class="aq b ar as at au l av aw"><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_page-----c403f7cf04f4---------------------nav_reg-" class="ax ay az ba bb bc bd be bf bg bh bi bj bk bl bm" rel="noopener">Sign in</a></span></div></div><div class="ap l"><button class="bn bo ax ay bp bh bi bq bg br aq b ar as at au bs bt bu bv bw bj">Get started</button></div></div></div></div></div></div></div><div class="bx l by bz"><div class="v w"><div class="x y z ab ac ae af ag"><div class="ca cb v ai"><div class="cc l ao"><a href="https://medium.com/dev-bits?source=post_page-----c403f7cf04f4----------------------" rel="noopener"><div class="cd ce l"><img alt="Dev bits" class="" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/1_qyYE9k-vBTjJJjhJm4yXtQ.png" width="284" height="36"></div></a></div><div class="cf l cg"><ul class="ch bf ci cj ck v cl g cm cn co"><li class="v ai cp cq cr cs"><span class="aq cv cw as cx cy cz"><a href="https://medium.com/dev-bits/tagged/javascript?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg dc dd bj bk de df" rel="noopener">JavaScript</a></span></li><li class="v ai cp cq cr cs"><span class="aq cv cw as cx cy cz"><a href="https://medium.com/dev-bits/tagged/golang?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg dc dd bj bk de df" rel="noopener">Golang</a></span></li><li class="v ai cp cq cr cs"><span class="aq cv cw as cx cy cz"><a href="https://medium.com/dev-bits/tagged/software-development?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg dc dd bj bk de df" rel="noopener">Software Development</a></span></li><span class="cp ct cu"></span><li class="v ai cp cq cr cs"><span class="aq cv cw as cx cy cz"><a href="http://narenarya.in/?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg dc dd bj bk de df" rel="noopener">Naren Arya</a></span></li></ul></div></div></div></div></div></div></nav><div class="dg dh l di dj"></div><article><section class="dk dl dm dn ag do bu v dp"></section><span class="l"></span><div><div class="gr o jn jo jp dr"></div><section class="jq jr js jt ju"><div class="v w"><div class="x y z ab ac fl af ag"><div><div id="74bc" class="jv jw eg ar jx b jy jz ka kb kc kd ke"><h1 class="jx b jy kf eg">A guide for adding JWT token-based authentication to your single page Node.js applications</h1></div><div class="kg"><div class="ai v"><div><a rel="noopener" href="https://medium.com/@narenarya?source=post_page-----c403f7cf04f4----------------------"><img alt="Naren Yellavula" class="l fy kh ki" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/2_jNME1Ty9WKyDPggqYpUgMg.jpeg" width="48" height="48"></a></div><div class="kj ag l"><div class="v"><div style="flex:1"><span class="aq b ar as at au l eg an"><div class="kk v ai kl"><span class="aq cv ej as cb km el em kn eo eg"><a class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener" href="https://medium.com/@narenarya?source=post_page-----c403f7cf04f4----------------------">Naren Yellavula</a></span><div class="ko l ao h"><button class="kp eg an bo kq kr ks kt bg ec ku kv kw kx ky kz br aq b ar la cw au bs bt bu bv bw bj">Follow</button></div></div></span></div></div><span class="aq b ar as at au l av aw"><span class="aq cv ej as cb km el em kn eo av"><div><a class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener" href="https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4?source=post_page-----c403f7cf04f4----------------------">Aug 22, 2018</a> <!-- -->·<!-- --> <!-- -->6<!-- --> min read</div></span></span></div></div></div></div></div></div><div class="fk"><div class="v w"><div class="lb lc ld le lf lg ab lh ac li af ag"><figure class="lk ll lm ln lo fk lp lq paragraph-image"><div class="lr ls eu lt ag"><div class="dm dn lj"><div class="lx l eu ly"><div class="lz l"><div class="dq lu gr n o gq ag cb lv lw"><img class="gr n o gq ag ma mb ue uf" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/1_KbsajBDDPKdSbOGWFXK32A.jpeg" width="3353" height="2514" role="presentation"></div><img class="hs rb gr n o gq ag go" width="3353" height="2514" role="presentation" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/1_KbsajBDDPKdSbOGWFXK32A(1).jpeg"><noscript><img class="gr n o gq ag" src="https://miro.medium.com/max/6706/1*KbsajBDDPKdSbOGWFXK32A.jpeg" width="3353" height="2514" role="presentation"/></noscript></div></div></div></div><figcaption class="av ej md me hv do dm dn mf mg aq cv" data-selectable-paragraph="">Original Photo by Kevin Ku</figcaption></figure></div></div></div><div class="v w"><div class="x y z ab ac fl af ag"><p id="e3f9" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">JWT authentication is becoming very popular these days. The traditional authentication uses cookies and sessions. With the advent of Single Page Applications(SPA) and microservices, there is a need to look beyond the sessions. Any token based authentication serves that purpose. JWT is a type of token-based authentication. For every single request from a client to the server, a token is passed for authentication. It supports the stateless API calls.</p><p id="d3b7" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">In my previous article,</p><div class="mv mw mx my mz na"><a rel="noopener" href="https://medium.com/dev-bits/developing-maintainable-websites-with-single-page-applications-47ee92ea99e8?source=post_page-----c403f7cf04f4----------------------"><section class="nd dm dn ag bu v ao ib ic id ie if ig ih ii ij ik il im in io ip"><div class="ne v dp w nf ng"><h2 class="aq ee ef as eg"><div class="cb nb el em nc eo">Developing Maintainable Websites with Single Page Applications</div></h2><div class="nh l"><h3 class="aq cv ej as av"><div class="cb nb el em nc eo">See why the state based User Interface makes sense in modern web development</div></h3></div><div class="ni l"><h4 class="aq cv cw as av"><div class="cb nb el em nc eo">medium.com</div></h4></div></div><div class="nj l"><div class="nk l nl nm nn nj no np nq"></div></div></section></a></div><p id="e6cd" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">I discussed how SaaS landscape is moving towards SPAs. Please go through that if you are new to the terminology. This article somewhat deals with the practical side of adding token based authentication especially JWT to SPA. The micro-services based architecture demands JWT because it is an open standard now.</p><blockquote class="nr ns nt"><p id="407c" class="mh mi eg nu mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">“JSON Web Tokens are an open, industry standard <a href="https://tools.ietf.org/html/rfc7519" class="da bw nv nw nx ny" target="_blank" rel="noopener"><strong class="mj nz">RFC 7519</strong></a> method for representing claims securely between two parties.”</p></blockquote><p id="1a3e" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">By the way, I wrote a cool book called “Building RESTful web services with Go” which has soup and tricks for handling web development problems.</p><p id="143c" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph=""><a href="https://www.amazon.com/Building-RESTful-Web-services-Go/dp/1788294289" class="da bw nv nw nx ny" target="_blank" rel="noopener">https://www.amazon.com/Building-RESTful-Web-services-Go/dp/1788294289</a></p><h1 id="9f18" class="oa ob eg ar aq ee oc od oe of og oh oi oj ok ol om" data-selectable-paragraph="">JSON Web Tokens (JWT)</h1><p id="c6db" class="mh mi eg ar mj b mk on mm oo mo op mq oq ms or mu" data-selectable-paragraph="">JSON web tokens are text strings that can be used by client and server to authenticate and share information easily. If you remember the necessary authentication, we do write information to the client by writing the cookie as a session variable. However, in JWT, a token is encoded from a data payload using a secret. That token is passed to the client. Whenever the client sends that token along with a request, the server validates it and sends back the response. See this diagram for a clear picture.</p></div></div><div class="fk"><div class="v w"><div class="lb lc ld le lf lg ab lh ac li af ag"><figure class="lk ll lm ln lo fk lp lq paragraph-image"><div class="lr ls eu lt ag"><div class="dm dn os"><div class="lx l eu ly"><div class="ot l"><div class="dq lu gr n o gq ag cb lv lw"><img class="gr n o gq ag ma mb ue uf" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/1_3yU_Zbhj9zDZwboFLHS1rg.png" width="2736" height="1293" role="presentation"></div><img class="hs rb gr n o gq ag go" width="2736" height="1293" role="presentation" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/1_3yU_Zbhj9zDZwboFLHS1rg(1).png"><noscript><img class="gr n o gq ag" src="https://miro.medium.com/max/5472/1*3yU_Zbhj9zDZwboFLHS1rg.png" width="2736" height="1293" role="presentation"/></noscript></div></div></div></div></figure></div></div></div><div class="v w"><div class="x y z ab ac fl af ag"><p id="8112" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">We can summarise above picture into following points:</p><ul class=""><li id="a539" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu ou ov ow" data-selectable-paragraph="">A client sends username/password combination to the server</li><li id="8cc0" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu ou ov ow" data-selectable-paragraph="">The server validates the authentication</li><li id="dde3" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu ou ov ow" data-selectable-paragraph="">If authentication is successful, the server creates a JWT token else establishes an error response</li><li id="929e" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu ou ov ow" data-selectable-paragraph="">On successful authentication, the client gets JWT token in the response body</li><li id="65b4" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu ou ov ow" data-selectable-paragraph="">Client stores that token in local storage or session storage.</li><li id="77c7" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu ou ov ow" data-selectable-paragraph="">From next time, the client for making any request supplies the JWT token in request headers like this. <code class="ly pc pd pe pf b">Authorization: Bearer &lt;jwt_token&gt;</code></li><li id="5578" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu ou ov ow" data-selectable-paragraph="">Server upon receiving the JWT validates it and sends the successful response else error.</li></ul><p id="63de" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">You might be wondering ‘Everything is clear to me except how the server is generating JWT?’. JWT token creation is a vast and beautiful topic, and you get a whole lot of details here. <a href="https://jwt.io/introduction/" class="da bw nv nw nx ny" target="_blank" rel="noopener">https://jwt.io/introduction/</a></p><p id="eecc" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">After reading that whole algorithm to generate tokens, you might be tempted to write your functionality. Hold on! There are many libraries available in different languages developed already. You plug them, and you get two main functionalities to generating JWT, validate JWT, etc.</p><p id="70ad" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">Here I pick an NPM library called <strong class="mj nz"><em class="nu">jsonwebtoken</em></strong> which is suggested by the JWT website rather than re-inventing the wheel.</p><h1 id="c3bc" class="oa ob eg ar aq ee oc od oe of og oh oi oj ok ol om" data-selectable-paragraph="">Developing the sample application</h1><p id="f012" class="mh mi eg ar mj b mk on mm oo mo op mq oq ms or mu" data-selectable-paragraph="">Let us start with the <strong class="mj nz"><em class="nu">package.json</em></strong>. We need the following libraries in our app.</p><ul class=""><li id="80de" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu ou ov ow" data-selectable-paragraph="">Express JS — For serving requests</li><li id="bec2" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu ou ov ow" data-selectable-paragraph="">jsonwebtoken — For writing and verifying JWT tokens</li></ul><figure class="lk ll lm ln lo fk"><div class="lx l eu"><div class="ud l"><iframe src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/77e65801b814a50f7c96b2ed0b92284f.html" allowfullscreen="" frameborder="0" height="853" width="680" title="node-jwt-integ" class="gr n o gq ag" scrolling="auto"></iframe></div></div></figure><p id="4835" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">The ESLint packages are installed too because my editor use JS code linting.</p><figure class="lk ll lm ln lo fk"><div class="lx l eu"><div class="uh l"><iframe src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/5572201102f5055bf23268d6b4c73166.html" allowfullscreen="" frameborder="0" height="237" width="680" title="https://gist.github.com/narenaryan/51789be7463500f369b00fcda87df0b1" class="gr n o gq ag" scrolling="auto"></iframe></div></div></figure><p id="9572" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">Now do</p><pre class="lk ll lm ln lo ht fs ck"><span id="abc3" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">npm install</span></pre><p id="7dda" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">We need to create a few more files for our project</p><pre class="lk ll lm ln lo ht fs ck"><span id="1e1c" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">touch server.js middleware.js config.js</span></pre><p id="9f32" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">server.js holds the main application logic. In middleware.js, we are going to define the JWT validation logic, and config.js is for storing secret for JWT hashing.</p><p id="4b03" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">The tree structure looks like this.</p><pre class="lk ll lm ln lo ht fs ck"><span id="47e1" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">.<br>├── config.js<br>├── middleware.js<br>├── package-lock.json<br>├── package.json<br>└── server.js<br>└── node_modules</span></pre><p id="8c36" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">Now let us add our config code in config.js</p><figure class="lk ll lm ln lo fk"><div class="lx l eu"><div class="ui l"><iframe src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/2d840a627b258e95a7cae0b92d7e3d2c.html" allowfullscreen="" frameborder="0" height="105" width="680" title="node-jwt-integ" class="gr n o gq ag" scrolling="auto"></iframe></div></div></figure><p id="d7fb" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">This secret will be read by JWT library while creating and validating tokens. In production, we need to store this secret in environment variable instead of a file.<br>In the middleware.js, we can write a function that acts as middleware to get a token from a request and proceeds only when the token is validated.</p><figure class="lk ll lm ln lo fk"><div class="lx l eu"><div class="ug l"><iframe src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/3dd009c066892abd0a9c896d2c67647c.html" allowfullscreen="" frameborder="0" height="804" width="680" title="node-jwt-integ" class="gr n o gq ag" scrolling="auto"></iframe></div></div></figure><p id="6a75" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">In the above code, we are doing the following things:</p><ol class=""><li id="39f8" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu pl ov ow" data-selectable-paragraph="">Capture headers with names ‘x-access-token’ or ‘Authorization.’</li><li id="679a" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu pl ov ow" data-selectable-paragraph="">If the header is in ‘Authorization: Bearer xxxx…’ format, strip unwanted prefix before token.</li><li id="6607" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu pl ov ow" data-selectable-paragraph="">Using <strong class="mj nz">jwt </strong>package<strong class="mj nz"> </strong>and <strong class="mj nz">secret</strong> string, validate the token.</li><li id="278c" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu pl ov ow" data-selectable-paragraph="">If anything goes wrong, return an error immediately before passing control to next handler.</li><li id="daf0" class="mh mi eg ar mj b mk ox mm oy mo oz mq pa ms pb mu pl ov ow" data-selectable-paragraph="">Export the middleware function for other modules to use.</li></ol><p id="87ae" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">At this moment, we haven’t written any code to create a token. We will do that next.</p><figure class="lk ll lm ln lo fk"><div class="lx l eu"><div class="uj l"><iframe src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/73c3d6fff5cf3e00af2613dd9a18d017.html" allowfullscreen="" frameborder="0" height="1447" width="680" title="node-jwt-integ" class="gr n o gq ag" scrolling="auto"></iframe></div></div></figure><p id="99d9" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">This might look lengthy but let us discuss the most exciting pieces from it.</p><pre class="lk ll lm ln lo ht fs ck"><span id="9526" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">let token = jwt.sign({username: username},</span><span id="cb45" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">            config.secret,</span><span id="77c9" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">            { expiresIn: '24h' // expires in 24 hours</span><span id="4dd0" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">            }</span><span id="bdfd" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">            );</span><span id="35dc" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">// return the JWT token for the future API calls</span><span id="a803" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">res.json({</span><span id="dcb4" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">        success: true,</span><span id="51e8" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">        message: 'Authentication successful!',</span><span id="a758" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">        token: token</span><span id="94af" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">});</span></pre><p id="5e89" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">jwt.sign function takes the payload, secret and options as its arguments. The payload can be used to find out which user is the owner of the token. Options can have an expire time until which token is valid. The generated token will be a string.</p><p id="2d40" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">We are then sending the generated token back to the client in the response body. The client should preserve this token for future requests.</p><p id="00e7" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph=""><em class="nu">Note:</em> In the above example, we are mocking the username and password, but in reality, those details should be fetched from the database server. For explaining the main point, I refrained from adding more details to this article.</p><p id="c4be" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">In the main function, I added the code for starting my application server, attaching routes to middleware and handlers.</p><pre class="lk ll lm ln lo ht fs ck"><span id="c3a8" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">app.post(‘/login’, handlers.login);</span><span id="75bb" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">app.get(‘/’, middleware.checkToken, handlers.index);</span></pre><p id="cd96" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">The second statement is a chain of handlers, where control first goes to middleware and then to the handler. Middleware function verifies JWT as we discussed above. Apart from index( / ), you can add that middleware in front of all your REST endpoints to secure them with JWT authentication. Ex:</p><pre class="lk ll lm ln lo ht fs ck"><span id="c8db" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">app.get(‘/v1/someResource’, middleware.checkToken, handlers.someHandler);<br>app.post(‘/v1/anotherResource’, middleware.checkToken, handlers.anotherHandler);</span></pre><p id="6364" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">Let us run this app and see what we got here. Open a terminal and run this.</p><p id="fe34" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph=""><strong class="mj nz">Server:</strong></p><pre class="lk ll lm ln lo ht fs ck"><span id="bd3a" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">node server.js // starts server on 8000 port</span></pre><p id="e249" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">Now try to make a curl request for home page(/).</p><p id="0438" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph=""><strong class="mj nz">Client:</strong></p><pre class="lk ll lm ln lo ht fs ck"><span id="f2ce" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">curl -X GET <a href="http://localhost:8000/" class="da bw nv nw nx ny" target="_blank" rel="noopener">http://localhost:8000</a></span><span id="da53" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">{"success":false,"message":"Auth token is not supplied"}</span></pre><p id="abb5" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">So our application is preventing us from accessing index without supplying the token. Now let us exchange our credentials for the token.</p><pre class="lk ll lm ln lo ht fs ck"><span id="e013" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">curl --header "Content-Type: application/json" \<br>  --request POST \<br>  --data '{"password":"password", "username":"admin"}' \<br>  <a href="http://localhost:8000/login" class="da bw nv nw nx ny" target="_blank" rel="noopener">http://localhost:8000/login</a></span><span id="e9d9" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">{<br>   "success":true,<br>   "message":"Authentication successful!",   "token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWF0IjoxNTM0OTMzNTY2LCJleHAiOjE1MzUwMTk5NjZ9.3xOdoxpK8hb42ykjMIl6rwLafB63Y-EQNOO9fFamp68"<br>}</span></pre><p id="2d29" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">We can remake our last home page request by adding a bearer token.</p><pre class="lk ll lm ln lo ht fs ck"><span id="3238" class="ph ob eg ar pf b ej pi pj l pk" data-selectable-paragraph="">curl -X GET \<br>  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWF0IjoxNTM0OTI1MTQwLCJleHAiOjE1MzUwMTE1NDB9.MIcWFBzAr5WVhbaSa1kd1_hmEZsepo8fXqotqvAerKI' \<br>  <a href="http://localhost:8000/" class="da bw nv nw nx ny" target="_blank" rel="noopener">http://localhost:8000</a></span><span id="cdbe" class="ph ob eg ar pf b ej pm pn po pp pq pj l pk" data-selectable-paragraph="">{<br>    "success": true,<br>    "message": "Index page"<br>}</span></pre><p id="2791" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">So we get a successful response. This flow is how JWT authentication works, and we successfully integrated it with our app. The complete source code for this sample application s available at this Github link. <a href="https://github.com/narenaryan/node-jwt-integ" class="da bw nv nw nx ny" target="_blank" rel="noopener">https://github.com/narenaryan/node-jwt-integ</a></p><p id="da9d" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">Here the client is CURL which is receiving the JWT token. However, when the browser(SPA) needs to access the REST API securely, it should save the token in its local storage. Here is a good discussion thread about the patterns for preserving tokens for a Single Page App. <a href="https://stackoverflow.com/questions/44133536/is-it-safe-to-store-a-jwt-in-localstorage-with-reactjs" class="da bw nv nw nx ny" target="_blank" rel="noopener">https://stackoverflow.com/questions/44133536/is-it-safe-to-store-a-jwt-in-localstorage-with-reactjs</a></p><p id="e7d1" class="mh mi eg ar mj b mk ml mm mn mo mp mq mr ms mt mu" data-selectable-paragraph="">I hope this article can help you to integrate JWT into your NodeJS REST API. If you have any queries, please contact me at <a href="https://twitter.com/Narenarya3" class="da bw nv nw nx ny" target="_blank" rel="noopener">@Narenarya3</a>.</p></div></div></section></div></article><div class="hs uk ds m dt du dv dw dx e" data-test-id="post-sidebar"><div class="v dp"><div class="dy dz l"><a href="https://medium.com/dev-bits?source=post_sidebar--------------------------post_sidebar-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><h2 class="aq ee ef as eg">Dev bits</h2></a><div class="eh ei l"><h4 class="aq cv ej as cb ek el em en eo av">A collection of developer experiences from wide domains like Python, JavaScript and Web Development</h4></div><div class="bv"><button class="ep bo ax ay bp bh bi bq bg br aq b ar as at au bs bt bu bv bw bj">Follow</button></div></div><div class="eq er es v"><div class="v ai"><div class="et l eu"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_sidebar-----c403f7cf04f4---------------------clap_sidebar-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><div class="be ev ew ex ey ez fa fb ay fc bi"><svg width="29" height="29"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="fd l"><div class="fe"><h4 class="aq cv ej as av"><button class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed">2.7K </button></h4></div></div></div></div><div><div class="bv"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_sidebar--------------------------bookmark_sidebar-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div><div class="hs uk ds m ff du fg fh dx fi"></div><div><div class="fj fk v dp w"><div class="v w"><div class="x y z ab ac fl af ag"><div class="v fm"></div><div class="v ai fm"></div><div class="fn l"><ul class="be bf"><li class="bv ch fo fp"><a href="https://medium.com/tag/nodejs" class="fq fr bw av l fs ft a b cw">Nodejs</a></li><li class="bv ch fo fp"><a href="https://medium.com/tag/javascript" class="fq fr bw av l fs ft a b cw">JavaScript</a></li><li class="bv ch fo fp"><a href="https://medium.com/tag/authentication" class="fq fr bw av l fs ft a b cw">Authentication</a></li><li class="bv ch fo fp"><a href="https://medium.com/tag/jwt" class="fq fr bw av l fs ft a b cw">Jwt</a></li><li class="bv ch fo fp"><a href="https://medium.com/tag/software-development" class="fq fr bw av l fs ft a b cw">Software Development</a></li></ul></div><div class="fu v fv u"><div class="v ai"><div class="fw l eu"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_actions_footer-----c403f7cf04f4---------------------clap_footer-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><div class="c fx fy v ai fz eu ga gb gc gd ge gf gg gh gi gj gk gl gm bq"><div class="be ev ew ex ey ez gn fb ai go fy v w gp o gq gr n ag ay fc bi gs"><svg width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z" fill-rule="evenodd"></path></svg></div></div></a></div><div class="fd l"><div class="fe"><h4 class="aq cv ej as eg"><button class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed">2.7K claps</button></h4></div></div></div><div class="v ai"><div class="gt l ao g"><a href="https://medium.com/p/c403f7cf04f4/share/twitter?source=follow_footer--------------------------follow_footer-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" target="_blank" rel="noopener"><svg width="29" height="29" class="an"><path d="M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"></path></svg></a></div><div class="gt l ao g"><a href="https://medium.com/p/c403f7cf04f4/share/facebook?source=follow_footer--------------------------follow_footer-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" target="_blank" rel="noopener"><svg width="29" height="29" class="an"><path d="M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"></path></svg></a></div><div class="gt gu bz"><div class="bv"><button class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed"><svg width="25" height="25" class="an"><g fill-rule="evenodd"><path d="M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"></path><path d="M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"></path></g></svg></button></div></div><div class="gt l ao"><div><div class="bv"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_actions_footer--------------------------bookmark_sidebar-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div><div class="bv"><div class="bv"><div class="l ao"><button class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed"><svg width="25" height="25" viewBox="-480.5 272.5 21 21" class="an"><path d="M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"></path></svg></button></div></div></div></div></div><div class="gv gw gx fn l u"><div class="gy gz l eu"><span class="l ha ak hb"><div class="l gr hc hd"><a rel="noopener" href="https://medium.com/@narenarya?source=follow_footer--------------------------follow_footer-"><img alt="Naren Yellavula" class="l fy co he" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/2_jNME1Ty9WKyDPggqYpUgMg(1).jpeg" width="80" height="80"></a></div><span class="l"><div class="hf l hg"><p class="aq cv cw as av cy hh">Written by</p></div><div class="hf hi v hg"><div class="ag v ai fv"><h2 class="aq ee hj hk eg"><a class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener" href="https://medium.com/@narenarya?source=follow_footer--------------------------follow_footer-">Naren Yellavula</a></h2><div class="l g"><button class="ep bo ax ay bp bh bi bq bg br aq b ar as at au bs bt bu bv bw bj">Follow</button></div></div></div></span></span><div class="hf hl l hg bz"><div class="hm l"><h4 class="aq cv ef hn av">Software Engineer | (( Python | Node.js | Go) &amp; React.js) Author of Building RESTFul web services with Go | Lives in Bayern, Germany</h4></div><div class="gu ho bz"><button class="ep bo ax ay bp bh bi bq bg br aq b ar as at au bs bt bu bv bw bj">Follow</button></div></div></div><div class="gv l"></div><div class="gy gz l eu"><span class="l ha ak hb"><div class="l gr hc hd"><a href="https://medium.com/dev-bits?source=follow_footer--------------------------follow_footer-" rel="noopener"><img alt="Dev bits" class="br he co" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/1_wo8EZUR2bqf5cPDC-U1btA.png" width="80" height="80"></a></div><span class="l"><div class="hf hi v hg"><div class="ag v ai fv"><h2 class="aq ee hj hk eg"><a href="https://medium.com/dev-bits?source=follow_footer--------------------------follow_footer-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener">Dev bits</a></h2><div class="l g"><div class="bv"><button class="ep bo ax ay bp bh bi bq bg br aq b ar as at au bs bt bu bv bw bj">Follow</button></div></div></div></div></span></span><div class="hf hp l hg bz"><div class="hm l"><h4 class="aq cv ef hn av">A collection of developer experiences from wide domains like Python, JavaScript and Web Development</h4></div><div class="gu ho bz"><div class="bv"><button class="ep bo ax ay bp bh bi bq bg br aq b ar as at au bs bt bu bv bw bj">Follow</button></div></div></div></div></div><div class="hq gw l u"><a href="https://medium.com/p/c403f7cf04f4/responses/show?source=follow_footer--------------------------follow_footer-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><span class="hr hs ey"><div class="ht hu br l hv bz"><span class="ax">See responses (9)</span></div></span></a></div></div></div><div class="hw l hx u"><div class="v w"><div class="x y z ab ac ae af ag"><div class="rc l rd"><div class="ji dz gy l"><h2 class="aq ee re rf eg">More From Medium</h2></div><div class="cl v rg fm rh ri rj rk rl rm rn ro rp rq rr rs rt ru rv"><div class="rw rx ry lc rz sa sb le sc sd se lg sf sg sh si sj sk sl sm sn"><div class="ag gq"><div class="l so"><div class="sp sq rh ri rj sr ss rk rl rm st su rn ro rp sv sw rq rr rs sx sy rt ru rv v fm"><div class="rw rx ry lc rz sa sz ta sc sd tb tc sf sg td te sj sk tf tg sn"><div class="th l ti f"><h4 class="aq cv ej as av">More from Dev bits</h4></div><div class="tj l tk rd"><a class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed l" rel="noopener" href="https://medium.com/dev-bits/writing-memory-efficient-software-applications-in-node-js-5575f646b67f?source=post_recirc---------0------------------"><div class="tl eu"><div class="gq gr ag"><div class="tm l nl nm gq ag no np"></div></div></div></a></div></div><div class="rw rx ry lc rz sa sz ta sc sd tb tc sf sg td te sj sk tf tg sn"><div class="tj l"><div class="tn gu h to"><h4 class="aq cv ej as av">More from Dev bits</h4></div><a rel="noopener" href="https://medium.com/dev-bits/writing-memory-efficient-software-applications-in-node-js-5575f646b67f?source=post_recirc---------0------------------"><h3 class="eg an jx tp ar tq tr ts">Writing Memory Efficient Software Applications in Node.js</h3></a></div><div class="v ai fv"><div class="tt l cg"><div class="ai v"><div><a rel="noopener" href="https://medium.com/@narenarya?source=post_recirc---------0------------------"><img alt="Naren Yellavula" class="l fy tu tv" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/2_jNME1Ty9WKyDPggqYpUgMg(2).jpeg" width="40" height="40"></a></div><div class="kj ag l"><div class="v"><div style="flex: 1 1 0%;"><span class="aq b ar as at au l eg an"><div class="dg v ai kl"><span class="aq cv ej as cb km el em kn eo eg"><a class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener" href="https://medium.com/@narenarya?source=post_recirc---------0------------------">Naren Yellavula</a><span> in <a href="https://medium.com/dev-bits?source=post_recirc---------0------------------" class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener">Dev bits</a></span></span></div></span></div></div><span class="aq b ar as at au l av aw"><span class="aq cv ej as cb km el em kn eo av"><div><a class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener" href="https://medium.com/dev-bits/writing-memory-efficient-software-applications-in-node-js-5575f646b67f?source=post_recirc---------0------------------">Nov 14, 2018</a> · 8 min read</div></span></span></div></div></div><div class="v ai"><div class="v ai"><div class="et l eu"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_recirc-----5575f646b67f----0-----------------clap_preview-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><div class="be ev ew ex ey ez fa ps qy tw tx"><svg width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="fd l"><div class="fe"><h4 class="aq cv ej as av">4.97K </h4></div></div></div><div class="ty kj tt cp tz l"></div><div><div class="bv"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_recirc---------0-----------------bookmark_sidebar-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div></div></div><div class="rw rx ry lc rz sa sb le sc sd se lg sf sg sh si sj sk sl sm sn"><div class="ag gq"><div class="l so"><div class="sp sq rh ri rj sr ss rk rl rm st su rn ro rp sv sw rq rr rs sx sy rt ru rv v fm"><div class="rw rx ry lc rz sa sz ta sc sd tb tc sf sg td te sj sk tf tg sn"><div class="th l ti f"><h4 class="aq cv ej as av">Related reads</h4></div><div class="tj l tk rd"><a href="https://blog.bitsrc.io/6-javascript-user-authentication-libraries-for-2019-6c7c45fbe458?source=post_recirc---------1------------------" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed l" rel="noopener"><div class="tl eu"><div class="gq gr ag"><div class="ua l nl nm gq ag no np"></div></div></div></a></div></div><div class="rw rx ry lc rz sa sz ta sc sd tb tc sf sg td te sj sk tf tg sn"><div class="tj l"><div class="tn gu h to"><h4 class="aq cv ej as av">Related reads</h4></div><a href="https://blog.bitsrc.io/6-javascript-user-authentication-libraries-for-2019-6c7c45fbe458?source=post_recirc---------1------------------" rel="noopener"><h3 class="eg an jx tp ar tq tr ts">6 JavaScript User Authentication Libraries for 2019</h3></a></div><div class="v ai fv"><div class="tt l cg"><div class="ai v"><div><a rel="noopener" href="https://medium.com/@JonathanSaring?source=post_recirc---------1------------------"><img alt="Jonathan Saring" class="l fy tu tv" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/1_pLN3R5sML3dcjAvUZDWtOA.png" width="40" height="40"></a></div><div class="kj ag l"><div class="v"><div style="flex: 1 1 0%;"><span class="aq b ar as at au l eg an"><div class="dg v ai kl"><span class="aq cv ej as cb km el em kn eo eg"><a class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener" href="https://medium.com/@JonathanSaring?source=post_recirc---------1------------------">Jonathan Saring</a><span> in <a href="https://blog.bitsrc.io/?source=post_recirc---------1------------------" class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener">Bits and Pieces</a></span></span></div></span></div></div><span class="aq b ar as at au l av aw"><span class="aq cv ej as cb km el em kn eo av"><div><a href="https://blog.bitsrc.io/6-javascript-user-authentication-libraries-for-2019-6c7c45fbe458?source=post_recirc---------1------------------" class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener">Dec 6, 2018</a> · 6 min read</div></span></span></div></div></div><div class="v ai"><div class="v ai"><div class="et l eu"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_recirc-----6c7c45fbe458----1-----------------clap_preview-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><div class="be ev ew ex ey ez fa ps qy tw tx"><svg width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="fd l"><div class="fe"><h4 class="aq cv ej as av">4.8K </h4></div></div></div><div class="ty kj tt cp tz l"></div><div><div class="bv"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_recirc---------1-----------------bookmark_sidebar-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div></div></div><div class="rw rx ry lc rz sa sb le sc sd se lg sf sg sh si sj sk sl sm sn"><div class="ag gq"><div class="l so"><div class="sp sq rh ri rj sr ss rk rl rm st su rn ro rp sv sw rq rr rs sx sy rt ru rv v fm"><div class="rw rx ry lc rz sa sz ta sc sd tb tc sf sg td te sj sk tf tg sn"><div class="th l ti f"><h4 class="aq cv ej as av">Related reads</h4></div><div class="tj l tk rd"><a class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed l" rel="noopener" href="https://medium.com/swlh/jwt-authentication-authorization-in-nodejs-express-mongodb-rest-apis-2019-ad14ec818122?source=post_recirc---------2------------------"><div class="tl eu"><div class="gq gr ag"><div class="ub l nl nm gq ag no np"></div></div></div></a></div></div><div class="rw rx ry lc rz sa sz ta sc sd tb tc sf sg td te sj sk tf tg sn"><div class="tj l"><div class="tn gu h to"><h4 class="aq cv ej as av">Related reads</h4></div><a rel="noopener" href="https://medium.com/swlh/jwt-authentication-authorization-in-nodejs-express-mongodb-rest-apis-2019-ad14ec818122?source=post_recirc---------2------------------"><h3 class="eg an jx tp ar tq tr ts">JWT Authentication &amp; Authorization in NodeJs/Express &amp; MongoDB REST APIs(2019)</h3></a></div><div class="v ai fv"><div class="tt l cg"><div class="ai v"><div><a rel="noopener" href="https://medium.com/@fatukunda?source=post_recirc---------2------------------"><img alt="Frank Atukunda" class="l fy tu tv" src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/2_0PVHKZzAZaiR5lE6zMQWIg.jpeg" width="40" height="40"></a></div><div class="kj ag l"><div class="v"><div style="flex: 1 1 0%;"><span class="aq b ar as at au l eg an"><div class="dg v ai kl"><span class="aq cv ej as cb km el em kn eo eg"><a class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener" href="https://medium.com/@fatukunda?source=post_recirc---------2------------------">Frank Atukunda</a><span> in <a href="https://medium.com/swlh?source=post_recirc---------2------------------" class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener">The Startup</a></span></span></div></span></div></div><span class="aq b ar as at au l av aw"><span class="aq cv ej as cb km el em kn eo av"><div><a class="da db az ba bb bc bd be bf bg jm bj bk ec ed" rel="noopener" href="https://medium.com/swlh/jwt-authentication-authorization-in-nodejs-express-mongodb-rest-apis-2019-ad14ec818122?source=post_recirc---------2------------------">Jun 10</a> · 16 min read<span style="padding-left: 4px;"><svg class="star-15px_svg__svgIcon-use" width="15" height="15" viewBox="0 0 15 15" style="margin-top: -2px;"><path d="M7.44 2.32c.03-.1.09-.1.12 0l1.2 3.53a.29.29 0 0 0 .26.2h3.88c.11 0 .13.04.04.1L9.8 8.33a.27.27 0 0 0-.1.29l1.2 3.53c.03.1-.01.13-.1.07l-3.14-2.18a.3.3 0 0 0-.32 0L4.2 12.22c-.1.06-.14.03-.1-.07l1.2-3.53a.27.27 0 0 0-.1-.3L2.06 6.16c-.1-.06-.07-.12.03-.12h3.89a.29.29 0 0 0 .26-.19l1.2-3.52z"></path></svg></span></div></span></span></div></div></div><div class="v ai"><div class="v ai"><div class="et l eu"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_recirc-----ad14ec818122----2-----------------clap_preview-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><div class="be ev ew ex ey ez fa ps qy tw tx"><svg width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></div><div class="fd l"><div class="fe"><h4 class="aq cv ej as av">1.1K </h4></div></div></div><div class="ty kj tt cp tz l"></div><div><div class="bv"><a href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fdev-bits%2Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4&amp;source=post_recirc---------2-----------------bookmark_sidebar-" class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed" rel="noopener"><svg width="25" height="25" viewBox="0 0 25 25"><path d="M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z" fill-rule="evenodd"></path></svg></a></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="hy l hz ia"><section class="dm dn ag bu l ib ic id ie if ig ih ii ij ik il im in io ip"><div class="iq ir gy v fv g"><div class="is v fv"><div class="it l iu"><div class="iv l"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg iw ix bj bk iy iz" rel="noopener"><h4 class="ja jb jc aq ee ar hn jd je l">Discover <!-- -->Medium</h4></a></div><span class="aq b ar as at au l jf jg">Welcome to a place where words matter. On <!-- -->Medium<!-- -->, smart voices and original ideas take center stage - with no ads in sight.<!-- --> <a href="https://medium.com/about?autoplay=1&amp;source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg bj bk iy iz jh" rel="noopener">Watch</a></span></div><div class="it l iu"><div class="ji l"><a href="https://medium.com/topics?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg iw ix bj bk iy iz" rel="noopener"><h4 class="ja jb jc aq ee ar hn jd je l">Make <!-- -->Medium<!-- --> yours</h4></a></div><span class="aq b ar as at au l jf jg">Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox.<!-- --> <a href="https://medium.com/topics?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg bj bk iy iz jh" rel="noopener">Explore</a></span></div><div class="it l iu"><div class="iv l"><a href="https://medium.com/membership?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg iw ix bj bk iy iz" rel="noopener"><h4 class="ja jb jc aq ee ar hn jd je l">Become a member</h4></a></div><span class="aq b ar as at au l jf jg">Get unlimited access to the best stories on <!-- -->Medium<!-- --> — and support writers while you’re at it. Just $5/month.<!-- --> <a href="https://medium.com/membership?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg bj bk iy iz jh" rel="noopener">Upgrade</a></span></div></div></div><div class="v ai fv"><a href="https://medium.com/?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg iw ix bj bk iy iz" rel="noopener"><svg height="22" width="112" viewBox="0 0 111.5 22" class="jb"><path d="M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"></path></svg></a><span class="aq b ar as at au l jf jg"><div class="jj jk v fv jl ak"><a href="https://medium.com/about?autoplay=1&amp;source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg jm bj bk iy iz" rel="noopener">About</a><a href="https://help.medium.com/?source=post_page-----c403f7cf04f4----------------------" class="da db az ba bb bc bd be bf bg jm bj bk iy iz" rel="noopener">Help</a><a class="da db az ba bb bc bd be bf bg jm bj bk iy iz" rel="noopener" href="https://medium.com/policy/9db0094a1e0f?source=post_page-----c403f7cf04f4----------------------">Legal</a></div></span></div></section></div></div></div><script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/16180790160.js.download"></script><script>window.__BUILD_ID__ = "development"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"config":{"nodeEnv":"production","version":"master-20191018-190947-eed3e6c6cc","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"collector-medium.lightstep.com","token":"ce5be895bef60919541332990ac9fef2","appVersion":"master-20191018-190947-eed3e6c6cc"},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","sentry":{"dsn":"https:\u002F\u002F589e367c28ca47b195ce200d1507d18b@sentry.io\u002F1423575","environment":"production"},"isAmp":false,"googleAnalyticsCode":"UA-24232453-2","signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["544c7006046e","bcc38c8f6edf","444d13b52878","8d6b8a439e32","92d2092dc598","1285ba81cada","cb8577c9149e","8ccfed20cbb2","ae2a65f35510","3f6ecf56618","7b6769f2748b"]},"debug":{"requestId":"d138c6a3-6a4c-453f-8732-a2d24fcb6f2c","originalSpanCarrier":{"ot-tracer-spanid":"11a2068e2465d00c","ot-tracer-traceid":"19b48dde39141a59","ot-tracer-sampled":"true"}},"session":{"user":{"id":"lo_dnt_QAbTKKJM2Wl4"},"xsrf":""},"stats":{"itemCount":0,"sending":false,"timeout":null,"backup":{}},"navigation":{"showBranchBanner":null,"hasRenderedBranchBanner":null,"hideGoogleOneTap":false,"branchData":{"loaded":false},"currentLocation":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4","host":"medium.com","hostname":"medium.com","referrer":"https:\u002F\u002Fwww.google.com\u002F","currentHash":""},"client":{"isBot":false,"isEu":true,"isNativeMedium":false,"isCustomDomain":false},"multiVote":{"clapsPerPost":{}},"metadata":{"faviconImageId":null}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"viewer":null,"variantFlags":[{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.0","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.1","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.2","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.3","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.4","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.5","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.6","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.7","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.8","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.9","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.10","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.11","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.12","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.13","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.14","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.15","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.16","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.17","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.18","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.19","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.20","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.21","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.22","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.23","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.24","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.25","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.26","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.27","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.28","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.29","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.30","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.31","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.32","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.33","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.34","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.35","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.36","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.37","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.38","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.39","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.40","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.41","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.42","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.43","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.44","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.45","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.46","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.47","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.48","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.49","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.50","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.51","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.52","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.53","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.54","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.55","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.56","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.57","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.58","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.59","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.60","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.61","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.62","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.63","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.64","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.65","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.66","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.67","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.68","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.69","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.70","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.71","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.72","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.73","typename":"VariantFlag"},{"type":"id","generated":true,"id":"ROOT_QUERY.variantFlags.74","typename":"VariantFlag"}],"meterPost({\"postId\":\"c403f7cf04f4\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"type":"id","generated":false,"id":"MeteringInfo:singleton","typename":"MeteringInfo"},"postResult({\"id\":\"c403f7cf04f4\"})":{"type":"id","generated":false,"id":"Post:c403f7cf04f4","typename":"Post"}},"ROOT_QUERY.variantFlags.0":{"name":"allow_access","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.0.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.0.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.1":{"name":"allow_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.1.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.1.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.2":{"name":"allow_test_auth","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.2.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.2.valueType":{"__typename":"VariantFlagString","value":"disallow"},"ROOT_QUERY.variantFlags.3":{"name":"available_annual_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.3.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.3.valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"},"ROOT_QUERY.variantFlags.4":{"name":"available_monthly_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.4.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.4.valueType":{"__typename":"VariantFlagString","value":"60e220181034"},"ROOT_QUERY.variantFlags.5":{"name":"block_bad_domain_logins","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.5.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.5.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.6":{"name":"browsable_stream_config_bucket","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.6.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.6.valueType":{"__typename":"VariantFlagString","value":"curated-topics"},"ROOT_QUERY.variantFlags.7":{"name":"disable_gosocial_followers_that_you_follow","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.7.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.7.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.8":{"name":"disable_ios_resume_reading_toast","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.8.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.8.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.9":{"name":"disable_mobile_featured_chunk","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.9.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.9.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.10":{"name":"enable_annual_renewal_reminder_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.10.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.10.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.11":{"name":"enable_app_flirty_thirty","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.11.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.11.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.12":{"name":"enable_automated_mission_control_triggers","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.12.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.12.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.13":{"name":"enable_branch_io","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.13.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.13.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.14":{"name":"enable_branding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.14.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.14.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.15":{"name":"enable_branding_fonts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.15.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.15.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.16":{"name":"enable_dedicated_series_tab_api_ios","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.16.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.16.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.17":{"name":"enable_disregard_trunc_state_for_footer","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.17.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.17.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.18":{"name":"enable_edit_alt_text","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.18.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.18.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.19":{"name":"enable_email_sign_in_captcha","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.19.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.19.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.20":{"name":"enable_embedding_based_diversification","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.20.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.20.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.21":{"name":"enable_feature_store_from_ranker","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.21.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.21.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.22":{"name":"enable_google_one_tap","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.22.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.22.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.23":{"name":"enable_icymi_section_in_digest_with_three_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.23.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.23.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.24":{"name":"enable_inline_search_lite","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.24.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.24.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.25":{"name":"enable_inline_search_popover_lite","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.25.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.25.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.26":{"name":"enable_ios_post_stats","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.26.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.26.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.27":{"name":"enable_janky_spam_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.27.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.27.valueType":{"__typename":"VariantFlagString","value":"users,posts"},"ROOT_QUERY.variantFlags.28":{"name":"enable_kafka_events","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.28.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.28.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.29":{"name":"enable_limit_diversification_heuristic","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.29.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.29.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.30":{"name":"enable_lite_notifications","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.30.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.30.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.31":{"name":"enable_lite_post","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.31.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.31.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.32":{"name":"enable_lite_post_cd","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.32.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.32.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.33":{"name":"enable_lite_post_highlights","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.33.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.33.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.34":{"name":"enable_lite_post_highlights_view_only","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.34.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.34.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.35":{"name":"enable_lite_profile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.35.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.35.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.36":{"name":"enable_lite_pub_header_menu","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.36.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.36.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.37":{"name":"enable_lite_read_next","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.37.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.37.valueType":{"__typename":"VariantFlagString","value":"sidebar"},"ROOT_QUERY.variantFlags.38":{"name":"enable_lite_stories","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.38.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.38.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.39":{"name":"enable_lite_topics","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.39.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.39.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.40":{"name":"enable_lite_twitter_text_shots","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.40.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.40.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.41":{"name":"enable_lite_unread_notification_count_mutation","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.41.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.41.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.42":{"name":"enable_live_user_post_scoring","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.42.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.42.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.43":{"name":"enable_logged_out_homepage_signup","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.43.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.43.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.44":{"name":"enable_marketing_emails","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.44.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.44.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.45":{"name":"enable_media_resource_try_catch","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.45.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.45.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.46":{"name":"enable_more_branch_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.46.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.46.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.47":{"name":"enable_new_collaborative_filtering_data","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.47.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.47.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.48":{"name":"enable_new_paypal_billing_plan","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.48.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.48.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.49":{"name":"enable_optimizely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.49.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.49.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.50":{"name":"enable_parsely","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.50.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.50.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.51":{"name":"enable_patronus_on_kubernetes","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.51.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.51.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.52":{"name":"enable_popular_provider","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.52.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.52.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.53":{"name":"enable_popularity_feature","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.53.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.53.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.54":{"name":"enable_post_import","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.54.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.54.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.55":{"name":"enable_primary_topic_for_mobile","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.55.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.55.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.56":{"name":"enable_quarantine_rules","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.56.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.56.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.57":{"name":"enable_rank_service_newsletters","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.57.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.57.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.58":{"name":"enable_recently_bookmarked","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.58.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.58.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.59":{"name":"enable_save_to_medium","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.59.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.59.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.60":{"name":"enable_tick_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.60.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.60.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.61":{"name":"enable_tipalti_onboarding","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.61.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.61.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.62":{"name":"enable_topic_lifecycle_email","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.62.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.62.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.63":{"name":"enable_trumpland_landing_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.63.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.63.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.64":{"name":"glyph_font_set","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.64.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.64.valueType":{"__typename":"VariantFlagString","value":"m2"},"ROOT_QUERY.variantFlags.65":{"name":"google_sign_in_android","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.65.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.65.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.66":{"name":"is_not_medium_subscriber","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.66.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.66.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.67":{"name":"new_transition_page","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.67.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.67.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.68":{"name":"pub_sidebar","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.68.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.68.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.69":{"name":"rank_model","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.69.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.69.valueType":{"__typename":"VariantFlagString","value":"default"},"ROOT_QUERY.variantFlags.70":{"name":"redis_read_write_splitting","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.70.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.70.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.71":{"name":"restrict_publishing_from_high_risk_new_accounts","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.71.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.71.valueType":{"__typename":"VariantFlagBoolean","value":true},"ROOT_QUERY.variantFlags.72":{"name":"signin_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.72.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.72.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.73":{"name":"signup_services","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.73.valueType","typename":"VariantFlagString"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.73.valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap"},"ROOT_QUERY.variantFlags.74":{"name":"use_new_admin_topic_backend","valueType":{"type":"id","generated":true,"id":"$ROOT_QUERY.variantFlags.74.valueType","typename":"VariantFlagBoolean"},"__typename":"VariantFlag"},"$ROOT_QUERY.variantFlags.74.valueType":{"__typename":"VariantFlagBoolean","value":true},"MeteringInfo:singleton":{"__typename":"MeteringInfo","postIds":{"type":"json","json":[]},"maxUnlockCount":3,"unlocksRemaining":3},"Post:c403f7cf04f4":{"__typename":"Post","visibility":"PUBLIC","latestPublishedVersion":"46c157c2bb03","collection":{"type":"id","generated":false,"id":"Collection:53d99b2cf4ae","typename":"Collection"},"id":"c403f7cf04f4","creator":{"type":"id","generated":false,"id":"User:2136676f77de","typename":"User"},"isLocked":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","sequence":null,"mediumUrl":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Fa-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4","canonicalUrl":"","content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"type":"id","generated":true,"id":"$Post:c403f7cf04f4.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})","typename":"PostContent"},"firstPublishedAt":1534938758833,"isPublished":true,"layerCake":4,"primaryTopic":null,"title":"A guide for adding JWT token-based authentication to your single page Node.js applications","isLimitedState":false,"pendingCollection":null,"shareKey":null,"statusForCollection":"APPROVED","readingTime":5.005974842767296,"license":"ALL_RIGHTS_RESERVED","allowResponses":true,"tags":[{"type":"id","generated":false,"id":"Tag:nodejs","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:javascript","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:authentication","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:jwt","typename":"Tag"},{"type":"id","generated":false,"id":"Tag:software-development","typename":"Tag"}],"viewerClapCount":0,"readingList":"READING_LIST_NONE","clapCount":2741,"voterCount":374,"recommenders":[],"responsesCount":9,"collaborators":[],"translationSourcePost":null,"newsletterId":"","inResponseToPostResult":null,"inResponseToMediaResource":null,"curationEligibleAt":0,"audioVersionUrl":"","socialTitle":"","socialDek":"","metaDescription":"","latestPublishedAt":1553242564938,"previewContent":{"type":"id","generated":true,"id":"$Post:c403f7cf04f4.previewContent","typename":"PreviewContent"},"previewImage":{"type":"id","generated":false,"id":"ImageMetadata:1*KbsajBDDPKdSbOGWFXK32A.jpeg","typename":"ImageMetadata"},"updatedAt":1553242564938,"topics":[],"isSuspended":false},"Collection:53d99b2cf4ae":{"id":"53d99b2cf4ae","domain":null,"slug":"dev-bits","__typename":"Collection","googleAnalyticsId":null,"colorBehavior":"ACCENT_COLOR_AND_FILL_BACKGROUND","name":"Dev bits","logo":{"type":"id","generated":false,"id":"ImageMetadata:1*qyYE9k-vBTjJJjhJm4yXtQ.png","typename":"ImageMetadata"},"avatar":{"type":"id","generated":false,"id":"ImageMetadata:1*wo8EZUR2bqf5cPDC-U1btA.png","typename":"ImageMetadata"},"isEnrolledInHightower":false,"creator":{"type":"id","generated":false,"id":"User:2136676f77de","typename":"User"},"viewerIsEditor":false,"navItems":[{"type":"id","generated":true,"id":"Collection:53d99b2cf4ae.navItems.0","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:53d99b2cf4ae.navItems.1","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:53d99b2cf4ae.navItems.2","typename":"NavItem"},{"type":"id","generated":true,"id":"Collection:53d99b2cf4ae.navItems.3","typename":"NavItem"}],"colorPalette":{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette","typename":"ColorPalette"},"viewerCanEditOwnPosts":false,"viewerCanEditPosts":false,"description":"A collection of developer experiences from wide domains like Python, JavaScript and Web Development","viewerIsFollowing":false,"viewerIsSubscribedToLetters":false,"isUserSubscribedToCollectionEmails":false,"ampEnabled":false,"twitterUsername":"Narenarya3","facebookPageId":null,"favicon":{"type":"id","generated":false,"id":"ImageMetadata:","typename":"ImageMetadata"}},"User:2136676f77de":{"id":"2136676f77de","__typename":"User","isSuspended":false,"allowNotes":true,"name":"Naren Yellavula","isFollowing":false,"username":"narenarya","bio":"Software Engineer | (( Python | Node.js | Go) & React.js) Author of Building RESTFul web services with Go | Lives in Bayern, Germany","imageId":"2*jNME1Ty9WKyDPggqYpUgMg.jpeg","mediumMemberAt":0,"isBlocking":false,"isPartnerProgramEnrolled":false,"twitterScreenName":"Narenarya3"},"ImageMetadata:1*qyYE9k-vBTjJJjhJm4yXtQ.png":{"id":"1*qyYE9k-vBTjJJjhJm4yXtQ.png","originalWidth":468,"originalHeight":60,"__typename":"ImageMetadata"},"ImageMetadata:1*wo8EZUR2bqf5cPDC-U1btA.png":{"id":"1*wo8EZUR2bqf5cPDC-U1btA.png","__typename":"ImageMetadata"},"Collection:53d99b2cf4ae.navItems.0":{"title":"JavaScript","url":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Ftagged\u002Fjavascript","type":"TAG_NAV_ITEM","__typename":"NavItem"},"Collection:53d99b2cf4ae.navItems.1":{"title":"Golang","url":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Ftagged\u002Fgolang","type":"TAG_NAV_ITEM","__typename":"NavItem"},"Collection:53d99b2cf4ae.navItems.2":{"title":"Software Development","url":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Ftagged\u002Fsoftware-development","type":"TAG_NAV_ITEM","__typename":"NavItem"},"Collection:53d99b2cf4ae.navItems.3":{"title":"Naren Arya","url":"http:\u002F\u002Fnarenarya.in","type":"EXTERNAL_LINK_NAV_ITEM","__typename":"NavItem"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum":{"backgroundColor":"#FF00897B","colorPoints":[{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.0":{"color":"#FF00897B","point":0,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.1":{"color":"#FF37978A","point":0.1,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.2":{"color":"#FF53A598","point":0.2,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.3":{"color":"#FF6BB2A6","point":0.3,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.4":{"color":"#FF81BEB3","point":0.4,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.5":{"color":"#FF96CBC1","point":0.5,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.6":{"color":"#FFA9D7CE","point":0.6,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.7":{"color":"#FFBCE2DA","point":0.7,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.8":{"color":"#FFCFEEE7","point":0.8,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.9":{"color":"#FFE1F9F3","point":0.9,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum.colorPoints.10":{"color":"#FFF3FFFF","point":1,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette":{"tintBackgroundSpectrum":{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.tintBackgroundSpectrum","typename":"ColorSpectrum"},"__typename":"ColorPalette","defaultBackgroundSpectrum":{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum","typename":"ColorSpectrum"},"highlightSpectrum":{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum","typename":"ColorSpectrum"}},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.0":{"color":"#FF25988A","point":0,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.1":{"color":"#FF2A8D80","point":0.1,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.2":{"color":"#FF2D8276","point":0.2,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.3":{"color":"#FF2E766C","point":0.3,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.4":{"color":"#FF2D6B61","point":0.4,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.5":{"color":"#FF2B5F57","point":0.5,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.6":{"color":"#FF28534C","point":0.6,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.7":{"color":"#FF244640","point":0.7,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.8":{"color":"#FF1F3935","point":0.8,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.9":{"color":"#FF182B28","point":0.9,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.defaultBackgroundSpectrum.colorPoints.10":{"color":"#FF101D1B","point":1,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum":{"backgroundColor":"#FFFFFFFF","colorPoints":[{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.0","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.1","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.2","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.3","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.4","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.5","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.6","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.7","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.8","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.9","typename":"ColorPoint"},{"type":"id","generated":true,"id":"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.10","typename":"ColorPoint"}],"__typename":"ColorSpectrum"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.0":{"color":"#FFE3F8F3","point":0,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.1":{"color":"#FFDEF8F1","point":0.1,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.2":{"color":"#FFD8F7F0","point":0.2,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.3":{"color":"#FFD2F6EE","point":0.3,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.4":{"color":"#FFCDF5ED","point":0.4,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.5":{"color":"#FFC7F5EB","point":0.5,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.6":{"color":"#FFC0F4EA","point":0.6,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.7":{"color":"#FFBAF3E8","point":0.7,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.8":{"color":"#FFB3F3E7","point":0.8,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.9":{"color":"#FFADF2E5","point":0.9,"__typename":"ColorPoint"},"$Collection:53d99b2cf4ae.colorPalette.highlightSpectrum.colorPoints.10":{"color":"#FFA6F1E4","point":1,"__typename":"ColorPoint"},"$Post:c403f7cf04f4.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}})":{"isLockedPreviewOnly":false,"validatedShareKey":"","__typename":"PostContent","bodyModel":{"type":"id","generated":true,"id":"$Post:c403f7cf04f4.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel","typename":"RichText"}},"$Post:c403f7cf04f4.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.0":{"name":"e4cd","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null,"__typename":"Section"},"$Post:c403f7cf04f4.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel":{"sections":[{"type":"id","generated":true,"id":"$Post:c403f7cf04f4.content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fwww.google.com\u002F\"}}).bodyModel.sections.0","typename":"Section"}],"paragraphs":[{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_0","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_1","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_2","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_3","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_4","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_5","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_6","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_7","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_8","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_9","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_10","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_11","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_12","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_13","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_14","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_15","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_16","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_17","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_18","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_19","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_20","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_21","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_22","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_23","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_24","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_25","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_26","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_27","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_28","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_29","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_30","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_31","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_32","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_33","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_34","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_35","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_36","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_37","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_38","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_39","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_40","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_41","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_42","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_43","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_44","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_45","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_46","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_47","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_48","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_49","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_50","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_51","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_52","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_53","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_54","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_55","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_56","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_57","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_58","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_59","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_60","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_61","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_62","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_63","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_64","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_65","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_66","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_67","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_68","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_69","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_70","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_71","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_72","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_73","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_74","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_75","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_76","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_77","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_78","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_79","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_80","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_81","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_82","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_83","typename":"Paragraph"},{"type":"id","generated":false,"id":"Paragraph:46c157c2bb03_84","typename":"Paragraph"}],"__typename":"RichText"},"Paragraph:46c157c2bb03_0":{"id":"46c157c2bb03_0","name":"74bc","__typename":"Paragraph","type":"H3","href":null,"layout":null,"metadata":null,"text":"A guide for adding JWT token-based authentication to your single page Node.js applications","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_1":{"id":"46c157c2bb03_1","name":"7bf9","__typename":"Paragraph","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*KbsajBDDPKdSbOGWFXK32A.jpeg","typename":"ImageMetadata"},"text":"Original Photo by Kevin Ku","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*KbsajBDDPKdSbOGWFXK32A.jpeg":{"id":"1*KbsajBDDPKdSbOGWFXK32A.jpeg","originalHeight":2514,"originalWidth":3353,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:46c157c2bb03_2":{"id":"46c157c2bb03_2","name":"e3f9","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"JWT authentication is becoming very popular these days. The traditional authentication uses cookies and sessions. With the advent of Single Page Applications(SPA) and microservices, there is a need to look beyond the sessions. Any token based authentication serves that purpose. JWT is a type of token-based authentication. For every single request from a client to the server, a token is passed for authentication. It supports the stateless API calls.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_3":{"id":"46c157c2bb03_3","name":"d3b7","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"In my previous article,","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_4":{"id":"46c157c2bb03_4","name":"df6a","__typename":"Paragraph","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"text":"Developing Maintainable Websites with Single Page Applications\nSee why the state based User Interface makes sense in modern web developmentmedium.com","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_4.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_4.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_4.markups.2","typename":"Markup"}],"iframe":null,"mixtapeMetadata":{"type":"id","generated":true,"id":"$Paragraph:46c157c2bb03_4.mixtapeMetadata","typename":"MixtapeMetadata"}},"Paragraph:46c157c2bb03_4.markups.0":{"type":"A","start":0,"end":149,"href":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Fdeveloping-maintainable-websites-with-single-page-applications-47ee92ea99e8","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_4.markups.1":{"type":"STRONG","start":0,"end":62,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_4.markups.2":{"type":"EM","start":63,"end":139,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"$Paragraph:46c157c2bb03_4.mixtapeMetadata":{"href":"https:\u002F\u002Fmedium.com\u002Fdev-bits\u002Fdeveloping-maintainable-websites-with-single-page-applications-47ee92ea99e8","thumbnailImageId":"1*374bV9u2IgZCVwb0Xh9U1w.jpeg","mediaResourceId":"1*374bV9u2IgZCVwb0Xh9U1w.jpeg","__typename":"MixtapeMetadata"},"Paragraph:46c157c2bb03_5":{"id":"46c157c2bb03_5","name":"e6cd","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I discussed how SaaS landscape is moving towards SPAs. Please go through that if you are new to the terminology. This article somewhat deals with the practical side of adding token based authentication especially JWT to SPA. The micro-services based architecture demands JWT because it is an open standard now.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_6":{"id":"46c157c2bb03_6","name":"407c","__typename":"Paragraph","type":"BQ","href":null,"layout":null,"metadata":null,"text":"“JSON Web Tokens are an open, industry standard RFC 7519 method for representing claims securely between two parties.”","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_6.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_6.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_6.markups.0":{"type":"A","start":48,"end":56,"href":"https:\u002F\u002Ftools.ietf.org\u002Fhtml\u002Frfc7519","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_6.markups.1":{"type":"STRONG","start":48,"end":56,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_7":{"id":"46c157c2bb03_7","name":"1a3e","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"By the way, I wrote a cool book called “Building RESTful web services with Go” which has soup and tricks for handling web development problems.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_8":{"id":"46c157c2bb03_8","name":"143c","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"https:\u002F\u002Fwww.amazon.com\u002FBuilding-RESTful-Web-services-Go\u002Fdp\u002F1788294289","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_8.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_8.markups.0":{"type":"A","start":0,"end":69,"href":"https:\u002F\u002Fwww.amazon.com\u002FBuilding-RESTful-Web-services-Go\u002Fdp\u002F1788294289","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_9":{"id":"46c157c2bb03_9","name":"9f18","__typename":"Paragraph","type":"H3","href":null,"layout":null,"metadata":null,"text":"JSON Web Tokens (JWT)","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_10":{"id":"46c157c2bb03_10","name":"c6db","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"JSON web tokens are text strings that can be used by client and server to authenticate and share information easily. If you remember the necessary authentication, we do write information to the client by writing the cookie as a session variable. However, in JWT, a token is encoded from a data payload using a secret. That token is passed to the client. Whenever the client sends that token along with a request, the server validates it and sends back the response. See this diagram for a clear picture.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_11":{"id":"46c157c2bb03_11","name":"66b2","__typename":"Paragraph","type":"IMG","href":null,"layout":"OUTSET_CENTER","metadata":{"type":"id","generated":false,"id":"ImageMetadata:1*3yU_Zbhj9zDZwboFLHS1rg.png","typename":"ImageMetadata"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"ImageMetadata:1*3yU_Zbhj9zDZwboFLHS1rg.png":{"id":"1*3yU_Zbhj9zDZwboFLHS1rg.png","originalHeight":1293,"originalWidth":2736,"focusPercentX":null,"focusPercentY":null,"alt":null,"__typename":"ImageMetadata"},"Paragraph:46c157c2bb03_12":{"id":"46c157c2bb03_12","name":"8112","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"We can summarise above picture into following points:","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_13":{"id":"46c157c2bb03_13","name":"a539","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"A client sends username\u002Fpassword combination to the server","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_14":{"id":"46c157c2bb03_14","name":"8cc0","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"The server validates the authentication","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_15":{"id":"46c157c2bb03_15","name":"dde3","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"If authentication is successful, the server creates a JWT token else establishes an error response","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_16":{"id":"46c157c2bb03_16","name":"929e","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"On successful authentication, the client gets JWT token in the response body","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_17":{"id":"46c157c2bb03_17","name":"65b4","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Client stores that token in local storage or session storage.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_18":{"id":"46c157c2bb03_18","name":"77c7","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"From next time, the client for making any request supplies the JWT token in request headers like this. Authorization: Bearer \u003Cjwt_token\u003E","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_18.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_18.markups.0":{"type":"CODE","start":103,"end":136,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_19":{"id":"46c157c2bb03_19","name":"5578","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Server upon receiving the JWT validates it and sends the successful response else error.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_20":{"id":"46c157c2bb03_20","name":"63de","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"You might be wondering ‘Everything is clear to me except how the server is generating JWT?’. JWT token creation is a vast and beautiful topic, and you get a whole lot of details here. https:\u002F\u002Fjwt.io\u002Fintroduction\u002F","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_20.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_20.markups.0":{"type":"A","start":184,"end":212,"href":"https:\u002F\u002Fjwt.io\u002Fintroduction\u002F","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_21":{"id":"46c157c2bb03_21","name":"eecc","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"After reading that whole algorithm to generate tokens, you might be tempted to write your functionality. Hold on! There are many libraries available in different languages developed already. You plug them, and you get two main functionalities to generating JWT, validate JWT, etc.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_22":{"id":"46c157c2bb03_22","name":"70ad","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Here I pick an NPM library called jsonwebtoken which is suggested by the JWT website rather than re-inventing the wheel.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_22.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_22.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_22.markups.0":{"type":"STRONG","start":34,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_22.markups.1":{"type":"EM","start":34,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_23":{"id":"46c157c2bb03_23","name":"c3bc","__typename":"Paragraph","type":"H3","href":null,"layout":null,"metadata":null,"text":"Developing the sample application","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_24":{"id":"46c157c2bb03_24","name":"f012","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Let us start with the package.json. We need the following libraries in our app.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_24.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_24.markups.1","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_24.markups.0":{"type":"STRONG","start":22,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_24.markups.1":{"type":"EM","start":22,"end":34,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_25":{"id":"46c157c2bb03_25","name":"80de","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"Express JS — For serving requests","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_26":{"id":"46c157c2bb03_26","name":"bec2","__typename":"Paragraph","type":"ULI","href":null,"layout":null,"metadata":null,"text":"jsonwebtoken — For writing and verifying JWT tokens","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_27":{"id":"46c157c2bb03_27","name":"4770","__typename":"Paragraph","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":{"type":"id","generated":true,"id":"$Paragraph:46c157c2bb03_27.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:77e65801b814a50f7c96b2ed0b92284f":{"id":"77e65801b814a50f7c96b2ed0b92284f","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"node-jwt-integ","__typename":"MediaResource"},"$Paragraph:46c157c2bb03_27.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:77e65801b814a50f7c96b2ed0b92284f","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:46c157c2bb03_28":{"id":"46c157c2bb03_28","name":"4835","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The ESLint packages are installed too because my editor use JS code linting.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_29":{"id":"46c157c2bb03_29","name":"4779","__typename":"Paragraph","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":{"type":"id","generated":true,"id":"$Paragraph:46c157c2bb03_29.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:5572201102f5055bf23268d6b4c73166":{"id":"5572201102f5055bf23268d6b4c73166","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"https:\u002F\u002Fgist.github.com\u002Fnarenaryan\u002F51789be7463500f369b00fcda87df0b1","__typename":"MediaResource"},"$Paragraph:46c157c2bb03_29.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:5572201102f5055bf23268d6b4c73166","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:46c157c2bb03_30":{"id":"46c157c2bb03_30","name":"9572","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Now do","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_31":{"id":"46c157c2bb03_31","name":"abc3","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"npm install","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_32":{"id":"46c157c2bb03_32","name":"7dda","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"We need to create a few more files for our project","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_33":{"id":"46c157c2bb03_33","name":"1e1c","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"touch server.js middleware.js config.js","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_34":{"id":"46c157c2bb03_34","name":"9f32","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"server.js holds the main application logic. In middleware.js, we are going to define the JWT validation logic, and config.js is for storing secret for JWT hashing.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_35":{"id":"46c157c2bb03_35","name":"4b03","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The tree structure looks like this.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_36":{"id":"46c157c2bb03_36","name":"47e1","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":".\n├── config.js\n├── middleware.js\n├── package-lock.json\n├── package.json\n└── server.js\n└── node_modules","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_37":{"id":"46c157c2bb03_37","name":"8c36","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Now let us add our config code in config.js","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_38":{"id":"46c157c2bb03_38","name":"cd3c","__typename":"Paragraph","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":{"type":"id","generated":true,"id":"$Paragraph:46c157c2bb03_38.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:2d840a627b258e95a7cae0b92d7e3d2c":{"id":"2d840a627b258e95a7cae0b92d7e3d2c","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"node-jwt-integ","__typename":"MediaResource"},"$Paragraph:46c157c2bb03_38.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:2d840a627b258e95a7cae0b92d7e3d2c","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:46c157c2bb03_39":{"id":"46c157c2bb03_39","name":"d7fb","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This secret will be read by JWT library while creating and validating tokens. In production, we need to store this secret in environment variable instead of a file.\nIn the middleware.js, we can write a function that acts as middleware to get a token from a request and proceeds only when the token is validated.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_40":{"id":"46c157c2bb03_40","name":"18b2","__typename":"Paragraph","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":{"type":"id","generated":true,"id":"$Paragraph:46c157c2bb03_40.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:3dd009c066892abd0a9c896d2c67647c":{"id":"3dd009c066892abd0a9c896d2c67647c","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"node-jwt-integ","__typename":"MediaResource"},"$Paragraph:46c157c2bb03_40.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:3dd009c066892abd0a9c896d2c67647c","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:46c157c2bb03_41":{"id":"46c157c2bb03_41","name":"6a75","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"In the above code, we are doing the following things:","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_42":{"id":"46c157c2bb03_42","name":"39f8","__typename":"Paragraph","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Capture headers with names ‘x-access-token’ or ‘Authorization.’","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_43":{"id":"46c157c2bb03_43","name":"679a","__typename":"Paragraph","type":"OLI","href":null,"layout":null,"metadata":null,"text":"If the header is in ‘Authorization: Bearer xxxx…’ format, strip unwanted prefix before token.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_44":{"id":"46c157c2bb03_44","name":"6607","__typename":"Paragraph","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Using jwt package and secret string, validate the token.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_44.markups.0","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_44.markups.1","typename":"Markup"},{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_44.markups.2","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_44.markups.0":{"type":"STRONG","start":6,"end":10,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_44.markups.1":{"type":"STRONG","start":17,"end":18,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_44.markups.2":{"type":"STRONG","start":22,"end":28,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_45":{"id":"46c157c2bb03_45","name":"278c","__typename":"Paragraph","type":"OLI","href":null,"layout":null,"metadata":null,"text":"If anything goes wrong, return an error immediately before passing control to next handler.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_46":{"id":"46c157c2bb03_46","name":"daf0","__typename":"Paragraph","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Export the middleware function for other modules to use.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_47":{"id":"46c157c2bb03_47","name":"87ae","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"At this moment, we haven’t written any code to create a token. We will do that next.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_48":{"id":"46c157c2bb03_48","name":"01d1","__typename":"Paragraph","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":{"type":"id","generated":true,"id":"$Paragraph:46c157c2bb03_48.iframe","typename":"Iframe"},"mixtapeMetadata":null},"MediaResource:73c3d6fff5cf3e00af2613dd9a18d017":{"id":"73c3d6fff5cf3e00af2613dd9a18d017","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"node-jwt-integ","__typename":"MediaResource"},"$Paragraph:46c157c2bb03_48.iframe":{"mediaResource":{"type":"id","generated":false,"id":"MediaResource:73c3d6fff5cf3e00af2613dd9a18d017","typename":"MediaResource"},"__typename":"Iframe"},"Paragraph:46c157c2bb03_49":{"id":"46c157c2bb03_49","name":"99d9","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"This might look lengthy but let us discuss the most exciting pieces from it.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_50":{"id":"46c157c2bb03_50","name":"9526","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"let token = jwt.sign({username: username},","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_51":{"id":"46c157c2bb03_51","name":"cb45","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"            config.secret,","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_52":{"id":"46c157c2bb03_52","name":"77c9","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"            { expiresIn: '24h' \u002F\u002F expires in 24 hours","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_53":{"id":"46c157c2bb03_53","name":"4dd0","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"            }","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_54":{"id":"46c157c2bb03_54","name":"bdfd","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"            );","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_55":{"id":"46c157c2bb03_55","name":"35dc","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"\u002F\u002F return the JWT token for the future API calls","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_56":{"id":"46c157c2bb03_56","name":"a803","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"res.json({","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_57":{"id":"46c157c2bb03_57","name":"dcb4","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"        success: true,","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_58":{"id":"46c157c2bb03_58","name":"51e8","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"        message: 'Authentication successful!',","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_59":{"id":"46c157c2bb03_59","name":"a758","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"        token: token","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_60":{"id":"46c157c2bb03_60","name":"94af","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"});","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_61":{"id":"46c157c2bb03_61","name":"5e89","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"jwt.sign function takes the payload, secret and options as its arguments. The payload can be used to find out which user is the owner of the token. Options can have an expire time until which token is valid. The generated token will be a string.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_62":{"id":"46c157c2bb03_62","name":"2d40","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"We are then sending the generated token back to the client in the response body. The client should preserve this token for future requests.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_63":{"id":"46c157c2bb03_63","name":"00e7","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Note: In the above example, we are mocking the username and password, but in reality, those details should be fetched from the database server. For explaining the main point, I refrained from adding more details to this article.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_63.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_63.markups.0":{"type":"EM","start":0,"end":5,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_64":{"id":"46c157c2bb03_64","name":"c4be","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"In the main function, I added the code for starting my application server, attaching routes to middleware and handlers.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_65":{"id":"46c157c2bb03_65","name":"c3a8","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"app.post(‘\u002Flogin’, handlers.login);","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_66":{"id":"46c157c2bb03_66","name":"75bb","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"app.get(‘\u002F’, middleware.checkToken, handlers.index);","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_67":{"id":"46c157c2bb03_67","name":"cd96","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"The second statement is a chain of handlers, where control first goes to middleware and then to the handler. Middleware function verifies JWT as we discussed above. Apart from index( \u002F ), you can add that middleware in front of all your REST endpoints to secure them with JWT authentication. Ex:","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_68":{"id":"46c157c2bb03_68","name":"c8db","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"app.get(‘\u002Fv1\u002FsomeResource’, middleware.checkToken, handlers.someHandler);\napp.post(‘\u002Fv1\u002FanotherResource’, middleware.checkToken, handlers.anotherHandler);","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_69":{"id":"46c157c2bb03_69","name":"6364","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Let us run this app and see what we got here. Open a terminal and run this.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_70":{"id":"46c157c2bb03_70","name":"fe34","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Server:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_70.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_70.markups.0":{"type":"STRONG","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_71":{"id":"46c157c2bb03_71","name":"bd3a","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"node server.js \u002F\u002F starts server on 8000 port","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_72":{"id":"46c157c2bb03_72","name":"e249","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Now try to make a curl request for home page(\u002F).","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_73":{"id":"46c157c2bb03_73","name":"0438","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Client:","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_73.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_73.markups.0":{"type":"STRONG","start":0,"end":7,"href":null,"anchorType":null,"userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_74":{"id":"46c157c2bb03_74","name":"f2ce","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"curl -X GET http:\u002F\u002Flocalhost:8000","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_74.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_74.markups.0":{"type":"A","start":12,"end":33,"href":"http:\u002F\u002Flocalhost:8000","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_75":{"id":"46c157c2bb03_75","name":"da53","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"{\"success\":false,\"message\":\"Auth token is not supplied\"}","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_76":{"id":"46c157c2bb03_76","name":"abb5","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"So our application is preventing us from accessing index without supplying the token. Now let us exchange our credentials for the token.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_77":{"id":"46c157c2bb03_77","name":"e013","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"curl --header \"Content-Type: application\u002Fjson\" \\\n  --request POST \\\n  --data '{\"password\":\"password\", \"username\":\"admin\"}' \\\n  http:\u002F\u002Flocalhost:8000\u002Flogin","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_77.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_77.markups.0":{"type":"A","start":127,"end":154,"href":"http:\u002F\u002Flocalhost:8000\u002Flogin","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_78":{"id":"46c157c2bb03_78","name":"e9d9","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"{\n   \"success\":true,\n   \"message\":\"Authentication successful!\",   \"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWF0IjoxNTM0OTMzNTY2LCJleHAiOjE1MzUwMTk5NjZ9.3xOdoxpK8hb42ykjMIl6rwLafB63Y-EQNOO9fFamp68\"\n}","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_79":{"id":"46c157c2bb03_79","name":"2d29","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"We can remake our last home page request by adding a bearer token.","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_80":{"id":"46c157c2bb03_80","name":"3238","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"curl -X GET \\\n  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWF0IjoxNTM0OTI1MTQwLCJleHAiOjE1MzUwMTE1NDB9.MIcWFBzAr5WVhbaSa1kd1_hmEZsepo8fXqotqvAerKI' \\\n  http:\u002F\u002Flocalhost:8000","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_80.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_80.markups.0":{"type":"A","start":201,"end":222,"href":"http:\u002F\u002Flocalhost:8000","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_81":{"id":"46c157c2bb03_81","name":"cdbe","__typename":"Paragraph","type":"PRE","href":null,"layout":null,"metadata":null,"text":"{\n    \"success\": true,\n    \"message\": \"Index page\"\n}","hasDropCap":null,"dropCapImage":null,"markups":[],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_82":{"id":"46c157c2bb03_82","name":"2791","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"So we get a successful response. This flow is how JWT authentication works, and we successfully integrated it with our app. The complete source code for this sample application s available at this Github link. https:\u002F\u002Fgithub.com\u002Fnarenaryan\u002Fnode-jwt-integ","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_82.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_82.markups.0":{"type":"A","start":210,"end":254,"href":"https:\u002F\u002Fgithub.com\u002Fnarenaryan\u002Fnode-jwt-integ","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_83":{"id":"46c157c2bb03_83","name":"da9d","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"Here the client is CURL which is receiving the JWT token. However, when the browser(SPA) needs to access the REST API securely, it should save the token in its local storage. Here is a good discussion thread about the patterns for preserving tokens for a Single Page App. https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F44133536\u002Fis-it-safe-to-store-a-jwt-in-localstorage-with-reactjs","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_83.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_83.markups.0":{"type":"A","start":272,"end":371,"href":"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F44133536\u002Fis-it-safe-to-store-a-jwt-in-localstorage-with-reactjs","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Paragraph:46c157c2bb03_84":{"id":"46c157c2bb03_84","name":"e7d1","__typename":"Paragraph","type":"P","href":null,"layout":null,"metadata":null,"text":"I hope this article can help you to integrate JWT into your NodeJS REST API. If you have any queries, please contact me at @Narenarya3.","hasDropCap":null,"dropCapImage":null,"markups":[{"type":"id","generated":true,"id":"Paragraph:46c157c2bb03_84.markups.0","typename":"Markup"}],"iframe":null,"mixtapeMetadata":null},"Paragraph:46c157c2bb03_84.markups.0":{"type":"A","start":123,"end":134,"href":"https:\u002F\u002Ftwitter.com\u002FNarenarya3","anchorType":"LINK","userId":null,"linkMetadata":null,"__typename":"Markup"},"Tag:nodejs":{"id":"nodejs","displayTitle":"Nodejs","__typename":"Tag"},"Tag:javascript":{"id":"javascript","displayTitle":"JavaScript","__typename":"Tag"},"Tag:authentication":{"id":"authentication","displayTitle":"Authentication","__typename":"Tag"},"Tag:jwt":{"id":"jwt","displayTitle":"Jwt","__typename":"Tag"},"Tag:software-development":{"id":"software-development","displayTitle":"Software Development","__typename":"Tag"},"ImageMetadata:":{"id":"","__typename":"ImageMetadata"},"$Post:c403f7cf04f4.previewContent":{"subtitle":"JWT authentication is becoming very popular these days. The traditional authentication uses cookies and sessions. With the advent of Single…","__typename":"PreviewContent"}}</script><script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/manifest.8cfaea53.js.download"></script><script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/vendors_main.82f8860a.chunk.js.download"></script><script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/main.d9d36f45.chunk.js.download"></script><script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/vendors_screen.landingpages.pres45_screen.post_screen.post.amp_screen.post.series_screen.p.download"></script>
<script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/screen.post_screen.post.amp_screen.post.series_screen.profile_screen.sequence.library_scre.download"></script>
<script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/screen.landingpages.pres45_screen.post_screen.post.amp_screen.post.series_screen.profile_s.download"></script>
<script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/screen.post_screen.post.amp_screen.sequence.post.dbcc6ace.chunk.js.download"></script>
<script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/screen.post.d5b67b3f.chunk.js.download"></script><script>window.main();</script><div><div class="m n du pt ag pu pv pw px py pz qa qb qc qd qe qf qg qh qi qj qk ql lf qm qn qo qp qq qr qs qt qu qv qw qx"><div><div class="branch-journeys-top"><div class="v fv"><p class="hr qy aq b ar as at au l">To make Medium work, we log user data. By using Medium, you agree to our <a class="da db az ba bb bc bd be bf bg bj bk ec ed jh" target="_blank" rel="noopener" href="https://medium.com/policy/f03bf92035c9">Privacy Policy</a>, including cookie policy.</p><div class="qz l ra"><div class="bf l eu p"><span class="aq b ar as at au l av aw"><button class="da db az ba bb bc bd be bf bg ea eb bj bk ec ed"><svg width="19" height="19" viewBox="0 0 19 19"><path d="M13.8 4.6L9.5 8.89 5.21 4.6l-.61.61 4.29 4.3-4.29 4.28.61.62 4.3-4.3 4.28 4.3.62-.62-4.3-4.29 4.3-4.29" fill-rule="evenodd"></path></svg></button></span></div></div></div></div></div></div></div><script src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/client" async=""></script><iframe src="./A guide for adding JWT token-based authentication to your single page Node.js applications_files/request.html" style="border: none; position: fixed; z-index: 9999; top: 0px; right: 0px; width: 400px; height: 257px;"></iframe></body></html>